(function(){function t(t){function e(e,i,n,r,s,o){for(;s>=0&&o>s;s+=t){var a=r?r[s]:s;n=i(n,e[a],a,e)}return n}return function(i,n,r,s){n=m(n,s,4);var o=!w(i)&&g.keys(i),a=(o||i).length,h=t>0?0:a-1;return arguments.length<3&&(r=i[o?o[h]:h],h+=t),e(i,n,r,o,h,a)}}function e(t){return function(e,i,n){i=y(i,n);for(var r=null!=e&&e.length,s=t>0?0:r-1;s>=0&&r>s;s+=t)if(i(e[s],s,e))return s;return-1}}var i=this,n=i._,r=Array.prototype,s=Object.prototype,o=Function.prototype,a=r.push,h=r.slice,c=s.toString,u=s.hasOwnProperty,l=Array.isArray,p=Object.keys,d=o.bind,f=Object.create,v=function(){},g=function(t){return t instanceof g?t:this instanceof g?void(this._wrapped=t):new g(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=g),exports._=g):i._=g,g.VERSION="1.8.1";var m=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,s){return t.call(e,i,n,r,s)}}return function(){return t.apply(e,arguments)}},y=function(t,e,i){return null==t?g.identity:g.isFunction(t)?m(t,e,i):g.isObject(t)?g.matcher(t):g.property(t)};g.iteratee=function(t,e){return y(t,e,1/0)};var x=function(t,e){return function(i){var n=arguments.length;if(2>n||null==i)return i;for(var r=1;n>r;r++)for(var s=arguments[r],o=t(s),a=o.length,h=0;a>h;h++){var c=o[h];e&&void 0!==i[c]||(i[c]=s[c])}return i}},b=function(t){if(!g.isObject(t))return{};if(f)return f(t);v.prototype=t;var e=new v;return v.prototype=null,e},E=Math.pow(2,53)-1,w=function(t){var e=t&&t.length;return"number"==typeof e&&e>=0&&E>=e};g.each=g.forEach=function(t,e,i){e=m(e,i);var n,r;if(w(t))for(n=0,r=t.length;r>n;n++)e(t[n],n,t);else{var s=g.keys(t);for(n=0,r=s.length;r>n;n++)e(t[s[n]],s[n],t)}return t},g.map=g.collect=function(t,e,i){e=y(e,i);for(var n=!w(t)&&g.keys(t),r=(n||t).length,s=Array(r),o=0;r>o;o++){var a=n?n[o]:o;s[o]=e(t[a],a,t)}return s},g.reduce=g.foldl=g.inject=t(1),g.reduceRight=g.foldr=t(-1),g.find=g.detect=function(t,e,i){var n;return n=w(t)?g.findIndex(t,e,i):g.findKey(t,e,i),void 0!==n&&-1!==n?t[n]:void 0},g.filter=g.select=function(t,e,i){var n=[];return e=y(e,i),g.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},g.reject=function(t,e,i){return g.filter(t,g.negate(y(e)),i)},g.every=g.all=function(t,e,i){e=y(e,i);for(var n=!w(t)&&g.keys(t),r=(n||t).length,s=0;r>s;s++){var o=n?n[s]:s;if(!e(t[o],o,t))return!1}return!0},g.some=g.any=function(t,e,i){e=y(e,i);for(var n=!w(t)&&g.keys(t),r=(n||t).length,s=0;r>s;s++){var o=n?n[s]:s;if(e(t[o],o,t))return!0}return!1},g.contains=g.includes=g.include=function(t,e){return w(t)||(t=g.values(t)),g.indexOf(t,e)>=0},g.invoke=function(t,e){var i=h.call(arguments,2),n=g.isFunction(e);return g.map(t,function(t){var r=n?e:t[e];return null==r?r:r.apply(t,i)})},g.pluck=function(t,e){return g.map(t,g.property(e))},g.where=function(t,e){return g.filter(t,g.matcher(e))},g.findWhere=function(t,e){return g.find(t,g.matcher(e))},g.max=function(t,e,i){var n,r,s=-1/0,o=-1/0;if(null==e&&null!=t){t=w(t)?t:g.values(t);for(var a=0,h=t.length;h>a;a++)n=t[a],n>s&&(s=n)}else e=y(e,i),g.each(t,function(t,i,n){r=e(t,i,n),(r>o||r===-1/0&&s===-1/0)&&(s=t,o=r)});return s},g.min=function(t,e,i){var n,r,s=1/0,o=1/0;if(null==e&&null!=t){t=w(t)?t:g.values(t);for(var a=0,h=t.length;h>a;a++)n=t[a],s>n&&(s=n)}else e=y(e,i),g.each(t,function(t,i,n){r=e(t,i,n),(o>r||1/0===r&&1/0===s)&&(s=t,o=r)});return s},g.shuffle=function(t){for(var e,i=w(t)?t:g.values(t),n=i.length,r=Array(n),s=0;n>s;s++)e=g.random(0,s),e!==s&&(r[s]=r[e]),r[e]=i[s];return r},g.sample=function(t,e,i){return null==e||i?(w(t)||(t=g.values(t)),t[g.random(t.length-1)]):g.shuffle(t).slice(0,Math.max(0,e))},g.sortBy=function(t,e,i){return e=y(e,i),g.pluck(g.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index-e.index}),"value")};var S=function(t){return function(e,i,n){var r={};return i=y(i,n),g.each(e,function(n,s){var o=i(n,s,e);t(r,n,o)}),r}};g.groupBy=S(function(t,e,i){g.has(t,i)?t[i].push(e):t[i]=[e]}),g.indexBy=S(function(t,e,i){t[i]=e}),g.countBy=S(function(t,e,i){g.has(t,i)?t[i]++:t[i]=1}),g.toArray=function(t){return t?g.isArray(t)?h.call(t):w(t)?g.map(t,g.identity):g.values(t):[]},g.size=function(t){return null==t?0:w(t)?t.length:g.keys(t).length},g.partition=function(t,e,i){e=y(e,i);var n=[],r=[];return g.each(t,function(t,i,s){(e(t,i,s)?n:r).push(t)}),[n,r]},g.first=g.head=g.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:g.initial(t,t.length-e)},g.initial=function(t,e,i){return h.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},g.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:g.rest(t,Math.max(0,t.length-e))},g.rest=g.tail=g.drop=function(t,e,i){return h.call(t,null==e||i?1:e)},g.compact=function(t){return g.filter(t,g.identity)};var T=function(t,e,i,n){for(var r=[],s=0,o=n||0,a=t&&t.length;a>o;o++){var h=t[o];if(w(h)&&(g.isArray(h)||g.isArguments(h))){e||(h=T(h,e,i));var c=0,u=h.length;for(r.length+=u;u>c;)r[s++]=h[c++]}else i||(r[s++]=h)}return r};g.flatten=function(t,e){return T(t,e,!1)},g.without=function(t){return g.difference(t,h.call(arguments,1))},g.uniq=g.unique=function(t,e,i,n){if(null==t)return[];g.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=y(i,n));for(var r=[],s=[],o=0,a=t.length;a>o;o++){var h=t[o],c=i?i(h,o,t):h;e?(o&&s===c||r.push(h),s=c):i?g.contains(s,c)||(s.push(c),r.push(h)):g.contains(r,h)||r.push(h)}return r},g.union=function(){return g.uniq(T(arguments,!0,!0))},g.intersection=function(t){if(null==t)return[];for(var e=[],i=arguments.length,n=0,r=t.length;r>n;n++){var s=t[n];if(!g.contains(e,s)){for(var o=1;i>o&&g.contains(arguments[o],s);o++);o===i&&e.push(s)}}return e},g.difference=function(t){var e=T(arguments,!0,!0,1);return g.filter(t,function(t){return!g.contains(e,t)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(t){for(var e=t&&g.max(t,"length").length||0,i=Array(e),n=0;e>n;n++)i[n]=g.pluck(t,n);return i},g.object=function(t,e){for(var i={},n=0,r=t&&t.length;r>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},g.indexOf=function(t,e,i){var n=0,r=t&&t.length;if("number"==typeof i)n=0>i?Math.max(0,r+i):i;else if(i&&r)return n=g.sortedIndex(t,e),t[n]===e?n:-1;if(e!==e)return g.findIndex(h.call(t,n),g.isNaN);for(;r>n;n++)if(t[n]===e)return n;return-1},g.lastIndexOf=function(t,e,i){var n=t?t.length:0;if("number"==typeof i&&(n=0>i?n+i+1:Math.min(n,i+1)),e!==e)return g.findLastIndex(h.call(t,0,n),g.isNaN);for(;--n>=0;)if(t[n]===e)return n;return-1},g.findIndex=e(1),g.findLastIndex=e(-1),g.sortedIndex=function(t,e,i,n){i=y(i,n,1);for(var r=i(e),s=0,o=t.length;o>s;){var a=Math.floor((s+o)/2);i(t[a])<r?s=a+1:o=a}return s},g.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),s=0;n>s;s++,t+=i)r[s]=t;return r};var _=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var s=b(t.prototype),o=t.apply(s,r);return g.isObject(o)?o:s};g.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,h.call(arguments,1));if(!g.isFunction(t))throw new TypeError("Bind must be called on a function");var i=h.call(arguments,2),n=function(){return _(t,n,e,this,i.concat(h.call(arguments)))};return n},g.partial=function(t){var e=h.call(arguments,1),i=function(){for(var n=0,r=e.length,s=Array(r),o=0;r>o;o++)s[o]=e[o]===g?arguments[n++]:e[o];for(;n<arguments.length;)s.push(arguments[n++]);return _(t,i,this,this,s)};return i},g.bindAll=function(t){var e,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(e=1;n>e;e++)i=arguments[e],t[i]=g.bind(t[i],t);return t},g.memoize=function(t,e){var i=function(n){var r=i.cache,s=""+(e?e.apply(this,arguments):n);return g.has(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return i.cache={},i},g.delay=function(t,e){var i=h.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},g.defer=g.partial(g.delay,g,1),g.throttle=function(t,e,i){var n,r,s,o=null,a=0;i||(i={});var h=function(){a=i.leading===!1?0:g.now(),o=null,s=t.apply(n,r),o||(n=r=null)};return function(){var c=g.now();a||i.leading!==!1||(a=c);var u=e-(c-a);return n=this,r=arguments,0>=u||u>e?(o&&(clearTimeout(o),o=null),a=c,s=t.apply(n,r),o||(n=r=null)):o||i.trailing===!1||(o=setTimeout(h,u)),s}},g.debounce=function(t,e,i){var n,r,s,o,a,h=function(){var c=g.now()-o;e>c&&c>=0?n=setTimeout(h,e-c):(n=null,i||(a=t.apply(s,r),n||(s=r=null)))};return function(){s=this,r=arguments,o=g.now();var c=i&&!n;return n||(n=setTimeout(h,e)),c&&(a=t.apply(s,r),s=r=null),a}},g.wrap=function(t,e){return g.partial(e,t)},g.negate=function(t){return function(){return!t.apply(this,arguments)}},g.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},g.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},g.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),1>=t&&(e=null),i}},g.once=g.partial(g.before,2),g.keys=function(t){if(!g.isObject(t))return[];if(p)return p(t);var e=[];for(var i in t)g.has(t,i)&&e.push(i);return e},g.allKeys=function(t){if(!g.isObject(t))return[];var e=[];for(var i in t)e.push(i);return e},g.values=function(t){for(var e=g.keys(t),i=e.length,n=Array(i),r=0;i>r;r++)n[r]=t[e[r]];return n},g.mapObject=function(t,e,i){e=y(e,i);for(var n,r=g.keys(t),s=r.length,o={},a=0;s>a;a++)n=r[a],o[n]=e(t[n],n,t);return o},g.pairs=function(t){for(var e=g.keys(t),i=e.length,n=Array(i),r=0;i>r;r++)n[r]=[e[r],t[e[r]]];return n},g.invert=function(t){for(var e={},i=g.keys(t),n=0,r=i.length;r>n;n++)e[t[i[n]]]=i[n];return e},g.functions=g.methods=function(t){var e=[];for(var i in t)g.isFunction(t[i])&&e.push(i);return e.sort()},g.extend=x(g.allKeys),g.extendOwn=x(g.keys),g.findKey=function(t,e,i){e=y(e,i);for(var n,r=g.keys(t),s=0,o=r.length;o>s;s++)if(n=r[s],e(t[n],n,t))return n},g.pick=function(t,e,i){var n,r={};if(null==t)return r;if(g.isFunction(e)){e=m(e,i);for(var s=g.allKeys(t),o=0;o<s.length;o++){var n=s[o],a=t[n];e(a,n,t)&&(r[n]=a)}}else{var s=T(arguments,!1,!1,1);t=new Object(t);for(var o=0,h=s.length;h>o;o++)n=s[o],n in t&&(r[n]=t[n])}return r},g.omit=function(t,e,i){if(g.isFunction(e))e=g.negate(e);else{var n=g.map(T(arguments,!1,!1,1),String);e=function(t,e){return!g.contains(n,e)}}return g.pick(t,e,i)},g.defaults=x(g.allKeys,!0),g.clone=function(t){return g.isObject(t)?g.isArray(t)?t.slice():g.extend({},t):t},g.tap=function(t,e){return e(t),t},g.isMatch=function(t,e){var i=g.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),s=0;n>s;s++){var o=i[s];if(e[o]!==r[o]||!(o in r))return!1}return!0};var D=function(t,e,i,n){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof g&&(t=t._wrapped),e instanceof g&&(e=e._wrapped);var r=c.call(t);if(r!==c.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var s="[object Array]"===r;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(g.isFunction(o)&&o instanceof o&&g.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var h=i.length;h--;)if(i[h]===t)return n[h]===e;if(i.push(t),n.push(e),s){if(h=t.length,h!==e.length)return!1;for(;h--;)if(!D(t[h],e[h],i,n))return!1}else{var u,l=g.keys(t);if(h=l.length,g.keys(e).length!==h)return!1;for(;h--;)if(u=l[h],!g.has(e,u)||!D(t[u],e[u],i,n))return!1}return i.pop(),n.pop(),!0};g.isEqual=function(t,e){return D(t,e)},g.isEmpty=function(t){return null==t?!0:w(t)&&(g.isArray(t)||g.isString(t)||g.isArguments(t))?0===t.length:0===g.keys(t).length},g.isElement=function(t){return!(!t||1!==t.nodeType)},g.isArray=l||function(t){return"[object Array]"===c.call(t)},g.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},g.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){g["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),g.isArguments(arguments)||(g.isArguments=function(t){return g.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(g.isFunction=function(t){return"function"==typeof t||!1}),g.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},g.isNaN=function(t){return g.isNumber(t)&&t!==+t},g.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===c.call(t)},g.isNull=function(t){return null===t},g.isUndefined=function(t){return void 0===t},g.has=function(t,e){return null!=t&&u.call(t,e)},g.noConflict=function(){return i._=n,this},g.identity=function(t){return t},g.constant=function(t){return function(){return t}},g.noop=function(){},g.property=function(t){return function(e){return null==e?void 0:e[t]}},g.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},g.matcher=g.matches=function(t){return t=g.extendOwn({},t),function(e){return g.isMatch(e,t)}},g.times=function(t,e,i){var n=Array(Math.max(0,t));e=m(e,i,1);for(var r=0;t>r;r++)n[r]=e(r);return n},g.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},g.now=Date.now||function(){return(new Date).getTime()};var C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},A=g.invert(C),M=function(t){var e=function(e){return t[e]},i="(?:"+g.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};g.escape=M(C),g.unescape=M(A),g.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),g.isFunction(n)?n.call(t):n};var k=0;g.uniqueId=function(t){var e=++k+"";return t?t+e:e},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\u2028|\u2029/g,$=function(t){return"\\"+P[t]};g.template=function(t,e,i){!e&&i&&(e=i),e=g.defaults({},e,g.templateSettings);var n=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(n,function(e,i,n,o,a){return s+=t.slice(r,a).replace(O,$),r=a+e.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(e.variable||"obj","_",s)}catch(a){throw a.source=s,a}var h=function(t){return o.call(this,t,g)},c=e.variable||"obj";return h.source="function("+c+"){\n"+s+"}",h},g.chain=function(t){var e=g(t);return e._chain=!0,e};var I=function(t,e){return t._chain?g(e).chain():e};g.mixin=function(t){g.each(g.functions(t),function(e){var i=g[e]=t[e];g.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),I(this,i.apply(g,t))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];g.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],I(this,i)}}),g.each(["concat","join","slice"],function(t){var e=r[t];g.prototype[t]=function(){return I(this,e.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return g})}).call(this),function(t,e){"object"==typeof exports&&exports?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Mustache={})}(this,function(t){function e(t){return"function"==typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function n(t,e){return f.call(t,e)}function r(t){return!n(v,t)}function s(t){return String(t).replace(/[&<>"'\/]/g,function(t){return g[t]})}function o(e,n){function s(){if(w&&!S)for(;g.length;)delete v[g.pop()];else g=[];w=!1,S=!1}function o(t){if("string"==typeof t&&(t=t.split(y,2)),!d(t)||2!==t.length)throw new Error("Invalid tags: "+t);u=new RegExp(i(t[0])+"\\s*"),l=new RegExp("\\s*"+i(t[1])),p=new RegExp("\\s*"+i("}"+t[1]))}if(!e)return[];var u,l,p,f=[],v=[],g=[],w=!1,S=!1;o(n||t.tags);for(var T,_,D,C,A,M,k=new c(e);!k.eos();){if(T=k.pos,D=k.scanUntil(u))for(var z=0,P=D.length;P>z;++z)C=D.charAt(z),r(C)?g.push(v.length):S=!0,v.push(["text",C,T,T+1]),T+=1,"\n"===C&&s();if(!k.scan(u))break;if(w=!0,_=k.scan(E)||"name",k.scan(m),"="===_?(D=k.scanUntil(x),k.scan(x),k.scanUntil(l)):"{"===_?(D=k.scanUntil(p),k.scan(b),k.scanUntil(l),_="&"):D=k.scanUntil(l),!k.scan(l))throw new Error("Unclosed tag at "+k.pos);if(A=[_,D,T,k.pos],v.push(A),"#"===_||"^"===_)f.push(A);else if("/"===_){if(M=f.pop(),!M)throw new Error('Unopened section "'+D+'" at '+T);if(M[1]!==D)throw new Error('Unclosed section "'+M[1]+'" at '+T)}else"name"===_||"{"===_||"&"===_?S=!0:"="===_&&o(D)}if(M=f.pop())throw new Error('Unclosed section "'+M[1]+'" at '+k.pos);return h(a(v))}function a(t){for(var e,i,n=[],r=0,s=t.length;s>r;++r)e=t[r],e&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function h(t){for(var e,i,n=[],r=n,s=[],o=0,a=t.length;a>o;++o)switch(e=t[o],e[0]){case"#":case"^":r.push(e),s.push(e),r=e[4]=[];break;case"/":i=s.pop(),i[5]=e[2],r=s.length>0?s[s.length-1][4]:n;break;default:r.push(e)}return n}function c(t){this.string=t,this.tail=t,this.pos=0}function u(t,e){this.view=null==t?{}:t,this.cache={".":this.view},this.parent=e}function l(){this.cache={}}var p=Object.prototype.toString,d=Array.isArray||function(t){return"[object Array]"===p.call(t)},f=RegExp.prototype.test,v=/\S/,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},m=/\s*/,y=/\s+/,x=/\s*=/,b=/\s*\}/,E=/#|\^|\/|>|\{|&|=|!/;c.prototype.eos=function(){return""===this.tail},c.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},c.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},u.prototype.push=function(t){return new u(t,this)},u.prototype.lookup=function(t){var i,n=this.cache;if(t in n)i=n[t];else{for(var r,s,o=this;o;){if(t.indexOf(".")>0)for(i=o.view,r=t.split("."),s=0;null!=i&&s<r.length;)i=i[r[s++]];else"object"==typeof o.view&&(i=o.view[t]);if(null!=i)break;o=o.parent}n[t]=i}return e(i)&&(i=i.call(this.view)),i},l.prototype.clearCache=function(){this.cache={}},l.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=o(t,e)),n},l.prototype.render=function(t,e,i){var n=this.parse(t),r=e instanceof u?e:new u(e);return this.renderTokens(n,r,i,t)},l.prototype.renderTokens=function(t,e,i,n){for(var r,s,o,a="",h=0,c=t.length;c>h;++h)o=void 0,r=t[h],s=r[0],"#"===s?o=this._renderSection(r,e,i,n):"^"===s?o=this._renderInverted(r,e,i,n):">"===s?o=this._renderPartial(r,e,i,n):"&"===s?o=this._unescapedValue(r,e):"name"===s?o=this._escapedValue(r,e):"text"===s&&(o=this._rawValue(r)),void 0!==o&&(a+=o);return a},l.prototype._renderSection=function(t,i,n,r){function s(t){return o.render(t,i,n)}var o=this,a="",h=i.lookup(t[1]);if(h){if(d(h))for(var c=0,u=h.length;u>c;++c)a+=this.renderTokens(t[4],i.push(h[c]),n,r);else if("object"==typeof h||"string"==typeof h)a+=this.renderTokens(t[4],i.push(h),n,r);else if(e(h)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");h=h.call(i.view,r.slice(t[3],t[5]),s),null!=h&&(a+=h)}else a+=this.renderTokens(t[4],i,n,r);return a}},l.prototype._renderInverted=function(t,e,i,n){var r=e.lookup(t[1]);return!r||d(r)&&0===r.length?this.renderTokens(t[4],e,i,n):void 0},l.prototype._renderPartial=function(t,i,n){if(n){var r=e(n)?n(t[1]):n[t[1]];return null!=r?this.renderTokens(this.parse(r),i,n,r):void 0}},l.prototype._unescapedValue=function(t,e){var i=e.lookup(t[1]);return null!=i?i:void 0},l.prototype._escapedValue=function(e,i){var n=i.lookup(e[1]);return null!=n?t.escape(n):void 0},l.prototype._rawValue=function(t){return t[1]},t.name="mustache.js",t.version="1.1.0",t.tags=["{{","}}"];var w=new l;t.clearCache=function(){return w.clearCache()},t.parse=function(t,e){return w.parse(t,e)},t.render=function(t,e,i){return w.render(t,e,i)},t.to_html=function(i,n,r,s){var o=t.render(i,n,r);return e(s)?void s(o):o},t.escape=s,t.Scanner=c,t.Context=u,t.Writer=l}),function(t){"use strict";function e(){}function i(t){if(!t||"object"!=typeof t)return!1;var e=w(t)||le;return/object|function/.test(typeof e.Element)?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName}function n(t){return!(!t||!t.Window)&&t instanceof t.Window}function r(t){return!!t&&t instanceof de}function s(t){return o(t)&&void 0!==typeof t.length&&a(t.splice)}function o(t){return!!t&&"object"==typeof t}function a(t){return"function"==typeof t}function h(t){return"number"==typeof t}function c(t){return"boolean"==typeof t}function u(t){return"string"==typeof t}function l(t){return u(t)?(pe.querySelector(t),!0):!1}function p(t,e){for(var i in e)t[i]=e[i];return t}function d(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function f(t,e,i){e||(e=i.pointerIds.length>1?_(i.pointers):i.pointers[0]),m(e,be,i),t.page.x=be.x,t.page.y=be.y,y(e,be,i),t.client.x=be.x,t.client.y=be.y,t.timeStamp=(new Date).getTime()}function v(t,e,i){t.page.x=i.page.x-e.page.x,t.page.y=i.page.y-e.page.y,t.client.x=i.client.x-e.client.x,t.client.y=i.client.y-e.client.y,t.timeStamp=(new Date).getTime()-e.timeStamp;var n=Math.max(t.timeStamp/1e3,.001);t.page.speed=xe(t.page.x,t.page.y)/n,t.page.vx=t.page.x/n,t.page.vy=t.page.y/n,t.client.speed=xe(t.client.x,t.page.y)/n,t.client.vx=t.client.x/n,t.client.vy=t.client.y/n}function g(t,e,i){return i=i||{},t=t||"page",i.x=e[t+"X"],i.y=e[t+"Y"],i}function m(t,e,i){return e=e||{},t instanceof L?/inertiastart/.test(t.type)?(i=i||t.interaction,p(e,i.inertiaStatus.upCoords.page),e.x+=i.inertiaStatus.sx,e.y+=i.inertiaStatus.sy):(e.x=t.pageX,e.y=t.pageY):Fe?(g("screen",t,e),e.x+=le.scrollX,e.y+=le.scrollY):g("page",t,e),e}function y(t,e,i){return e=e||{},t instanceof L?/inertiastart/.test(t.type)?(p(e,i.inertiaStatus.upCoords.client),e.x+=i.inertiaStatus.sx,e.y+=i.inertiaStatus.sy):(e.x=t.clientX,e.y=t.clientY):g(Fe?"screen":"client",t,e),e}function x(t){return t=t||le,{x:t.scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function b(t){return h(t.pointerId)?t.pointerId:t.identifier}function E(t){return t instanceof ge?t.correspondingUseElement:t}function w(t){if(n(t))return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||le}function S(t){var e=je?{x:0,y:0}:x(w(t)),i=t instanceof fe?t.getBoundingClientRect():t.getClientRects()[0];return i&&{left:i.left+e.x,right:i.right+e.x,top:i.top+e.y,bottom:i.bottom+e.y,width:i.width||i.right-i.left,height:i.heigh||i.bottom-i.top}}function T(t){var e=[];return s(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function _(t){var e=T(t);return{pageX:(e[0].pageX+e[1].pageX)/2,pageY:(e[0].pageY+e[1].pageY)/2,clientX:(e[0].clientX+e[1].clientX)/2,clientY:(e[0].clientY+e[1].clientY)/2}}function D(t){if(t.length||t.touches&&t.touches.length>1){var e=T(t),i=Math.min(e[0].pageX,e[1].pageX),n=Math.min(e[0].pageY,e[1].pageY),r=Math.max(e[0].pageX,e[1].pageX),s=Math.max(e[0].pageY,e[1].pageY);return{x:i,y:n,left:i,top:n,width:r-i,height:s-n}}}function C(t,e){e=e||De.deltaSource;var i=e+"X",n=e+"Y",r=T(t),s=r[0][i]-r[1][i],o=r[0][n]-r[1][n];return xe(s,o)}function A(t,e,i){i=i||De.deltaSource;var n=i+"X",r=i+"Y",s=T(t),o=s[0][n]-s[1][n],a=s[0][r]-s[1][r],c=180*Math.atan(a/o)/Math.PI;if(h(e)){var u=c-e,l=u%360;l>315?c-=360+c/360|0:l>135?c-=180+c/360|0:-315>l?c+=360+c/360|0:-135>l&&(c+=180+c/360|0)}return c}function M(t,e){var n=t?t.options.origin:De.origin;return"parent"===n?n=I(e):"self"===n?n=t.getRect(e):l(n)&&(n=$(e,n)||{x:0,y:0}),a(n)&&(n=n(t&&e)),i(n)&&(n=S(n)),n.x="x"in n?n.x:n.left,n.y="y"in n?n.y:n.top,n}function k(t,e,i,n){var r=1-t;return r*r*e+2*r*t*i+t*t*n}function z(t,e,i,n,r,s,o){return{x:k(o,t,i,r),y:k(o,e,n,s)}}function P(t,e,i,n){return t/=n,-i*t*(t-2)+e}function O(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function $(t,e){for(var n=I(t);i(n);){if(ae(n,e))return n;n=I(n)}return null}function I(t){var e=t.parentNode;if(r(e)){for(;(e=e.host)&&r(e););return e}return e}function R(t,e){return t._context===e.ownerDocument||O(t._context,e)}function X(t,e,n){var r=t.options.ignoreFrom;return r&&i(n)?u(r)?he(n,r,e):i(r)?O(r,n):!1:!1}function Y(t,e,n){var r=t.options.allowFrom;return r?i(n)?u(r)?he(n,r,e):i(r)?O(r,n):!1:!1:!0}function F(t,e){if(!e)return!1;var i=e.options.drag.axis;return"xy"===t||"xy"===i||i===t}function j(t,e){var i=t.options;return/^resize/.test(e)&&(e="resize"),i[e].snap&&i[e].snap.enabled}function N(t,e){var i=t.options;return/^resize/.test(e)&&(e="resize"),i[e].restrict&&i[e].restrict.enabled}function q(t,e){var i=t.options;return/^resize/.test(e)&&(e="resize"),i[e].autoScroll&&i[e].autoScroll.enabled}function H(t,e,i){for(var n=t.options,r=n[i.name].max,s=n[i.name].maxPerElement,o=0,a=0,h=0,c=0,u=Se.length;u>c;c++){var l=Se[c],p=l.prepared.name,d=l.interacting();if(d){if(o++,o>=Oe)return!1;if(l.target===t){if(a+=p===i.name|0,a>=r)return!1;if(l.element===e&&(h++,p!==i.name||h>=s))return!1}}}return Oe>0}function U(t){var e,i,n,r,s,o=t[0],a=o?0:-1,h=[],c=[];for(r=1;r<t.length;r++)if(e=t[r],e&&e!==o)if(o){if(e.parentNode!==e.ownerDocument)if(o.parentNode!==e.ownerDocument){if(!h.length)for(i=o;i.parentNode&&i.parentNode!==i.ownerDocument;)h.unshift(i),i=i.parentNode;if(o instanceof me&&e instanceof fe&&!(e instanceof ve)){if(e===o.parentNode)continue;i=e.ownerSVGElement}else i=e;for(c=[];i.parentNode!==i.ownerDocument;)c.unshift(i),i=i.parentNode;for(s=0;c[s]&&c[s]===h[s];)s++;var u=[c[s-1],c[s],h[s]];for(n=u[0].lastChild;n;){if(n===u[1]){o=e,a=r,h=[];break}if(n===u[2])break;n=n.previousSibling}}else o=e,a=r}else o=e,a=r;return a}function B(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},a(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var t=this;this.boundInertiaFrame=function(){return t.inertiaFrame()},this.boundSmoothEndFrame=function(){return t.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,Se.push(this)}function V(t,e,i){var n,r=0,s=Se.length,o=/mouse/i.test(t.pointerType||e)||4===t.pointerType,a=b(t);if(/down|start/i.test(e))for(r=0;s>r;r++){n=Se[r];var h=i;if(n.inertiaStatus.active&&n.target.options[n.prepared.name].inertia.allowResume&&n.mouse===o)for(;h;){if(h===n.element)return n.pointers[0]&&n.removePointer(n.pointers[0]),n.addPointer(t),n;h=I(h)}}if(o||!Ae&&!Me){for(r=0;s>r;r++)if(Se[r].mouse&&!Se[r].inertiaStatus.active)return Se[r];for(r=0;s>r;r++)if(Se[r].mouse&&(!/down/.test(e)||!Se[r].inertiaStatus.active))return n;return n=new B,n.mouse=!0,n}for(r=0;s>r;r++)if(oe(Se[r].pointerIds,a))return Se[r];if(/up|end|out/i.test(e))return null;for(r=0;s>r;r++)if(n=Se[r],!(n.prepared.name&&!n.target.options.gesture.enabled||n.interacting()||!o&&n.mouse))return n.addPointer(t),n;return new B}function W(t){return function(e){var i,n,r=E(e.path?e.path[0]:e.target),s=E(e.currentTarget);if(Ae&&/touch/.test(e.type))for(Pe=(new Date).getTime(),n=0;n<e.changedTouches.length;n++){var o=e.changedTouches[n];i=V(o,e.type,r),i&&(i._updateEventTargets(r,s),i[t](o,e,r,s))}else{if(!Me&&/mouse/.test(e.type)){for(n=0;n<Se.length;n++)if(!Se[n].mouse&&Se[n].pointerIsDown)return;if((new Date).getTime()-Pe<500)return}if(i=V(e,e.type,r),!i)return;i._updateEventTargets(r,s),i[t](e,e,r,s)}}}function L(t,e,i,n,r,s){var o,a,h=t.target,c=t.snapStatus,u=t.restrictStatus,l=t.pointers,d=(h&&h.options||De).deltaSource,f=d+"X",v=d+"Y",g=h?h.options:De,m=M(h,r),y="start"===n,x="end"===n,b=y?t.startCoords:t.curCoords;r=r||t.element,a=p({},b.page),o=p({},b.client),a.x-=m.x,a.y-=m.y,o.x-=m.x,o.y-=m.y,!j(h,i)||y&&t.snapOffsets.length||(this.snap={range:c.range,locked:c.locked,x:c.snappedX,y:c.snappedY,realX:c.realX,realY:c.realY,dx:c.dx,dy:c.dy},c.locked&&(a.x+=c.dx,a.y+=c.dy,o.x+=c.dx,o.y+=c.dy)),!N(h,i)||y&&g[i].restrict.elementRect||!u.restricted||(a.x+=u.dx,a.y+=u.dy,o.x+=u.dx,o.y+=u.dy,this.restrict={dx:u.dx,dy:u.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=o.x,this.clientY=o.y,this.x0=t.startCoords.page.x,this.y0=t.startCoords.page.y,this.clientX0=t.startCoords.client.x,this.clientY0=t.startCoords.client.y,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.target=r,this.t0=t.downTimes[0],this.type=i+(n||""),this.interaction=t,this.interactable=h;var E=t.inertiaStatus;if(E.active&&(this.detail="inertia"),s&&(this.relatedTarget=s),x||"drop"===i?"client"===d?(this.dx=o.x-t.startCoords.client.x,this.dy=o.y-t.startCoords.client.y):(this.dx=a.x-t.startCoords.page.x,this.dy=a.y-t.startCoords.page.y):y?(this.dx=0,this.dy=0):"inertiastart"===n?(this.dx=t.prevEvent.dx,this.dy=t.prevEvent.dy):"client"===d?(this.dx=o.x-t.prevEvent.clientX,this.dy=o.y-t.prevEvent.clientY):(this.dx=a.x-t.prevEvent.pageX,this.dy=a.y-t.prevEvent.pageY),t.prevEvent&&"inertia"===t.prevEvent.detail&&!E.active&&g[i].inertia&&g[i].inertia.zeroResumeDelta&&(E.resumeDx+=this.dx,E.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===i?g.resize.square?("y"===t.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=t.resizeAxes,"x"===t.resizeAxes?this.dy=0:"y"===t.resizeAxes&&(this.dx=0)):"gesture"===i&&(this.touches=[l[0],l[1]],y?(this.distance=C(l,d),this.box=D(l),this.scale=1,this.ds=0,this.angle=A(l,void 0,d),this.da=0):x||e instanceof L?(this.distance=t.prevEvent.distance,this.box=t.prevEvent.box,this.scale=t.prevEvent.scale,this.ds=this.scale-1,this.angle=t.prevEvent.angle,this.da=this.angle-t.gesture.startAngle):(this.distance=C(l,d),this.box=D(l),this.scale=this.distance/t.gesture.startDistance,this.angle=A(l,t.gesture.prevAngle,d),this.ds=this.scale-t.gesture.prevScale,this.da=this.angle-t.gesture.prevAngle)),y)this.timeStamp=t.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;
else if("inertiastart"===n)this.timeStamp=t.prevEvent.timeStamp,this.dt=t.prevEvent.dt,this.duration=t.prevEvent.duration,this.speed=t.prevEvent.speed,this.velocityX=t.prevEvent.velocityX,this.velocityY=t.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-t.prevEvent.timeStamp,this.duration=this.timeStamp-t.downTimes[0],e instanceof L){var w=this[f]-t.prevEvent[f],S=this[v]-t.prevEvent[v],T=this.dt/1e3;this.speed=xe(w,S)/T,this.velocityX=w/T,this.velocityY=S/T}else this.speed=t.pointerDelta[d].speed,this.velocityX=t.pointerDelta[d].vx,this.velocityY=t.pointerDelta[d].vy;if((x||"inertiastart"===n)&&t.prevEvent.speed>600&&this.timeStamp-t.prevEvent.timeStamp<150){var _=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI,k=22.5;0>_&&(_+=360);var z=_>=135-k&&225+k>_,P=_>=225-k&&315+k>_,O=!z&&(_>=315-k||45+k>_),$=!P&&_>=45-k&&135+k>_;this.swipe={up:P,down:$,left:z,right:O,angle:_,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}}function Q(){this.originalEvent.preventDefault()}function K(t,e,i){var n,r,s=this.getRect(i),o=null,a=null,h=p({},e.curCoords.page),c=this.options;return s?(Ie.resize&&c.resize.enabled&&(n="y"!==c.resize.axis&&h.x>s.right-ke,r="x"!==c.resize.axis&&h.y>s.bottom-ke),a=(n?"x":"")+(r?"y":""),o=a?"resize":Ie.drag&&c.drag.enabled?"drag":null,Ie.gesture&&e.pointerIds.length>=2&&!e.dragging&&!e.resizing&&(o="gesture"),o?{name:o,axis:a}:null):null}function G(t,e){if(!o(t))return null;var i=t.name,n=e.options;return("resize"===i&&n.resize.enabled||"drag"===i&&n.drag.enabled||"gesture"===i&&n.gesture.enabled)&&Ie[i]?(("resize"===i||"resizeyx"===i)&&(i="resizexy"),t):null}function J(t,e){var n={},r=_e[t.type],s=E(t.path?t.path[0]:t.target),o=s;e=e?!0:!1;for(var a in t)n[a]=t[a];for(n.originalEvent=t,n.preventDefault=Q;i(o);){for(var h=0;h<r.selectors.length;h++){var c=r.selectors[h],u=r.contexts[h];if(ae(o,c)&&O(u,s)&&O(u,o)){var l=r.listeners[h];n.currentTarget=o;for(var p=0;p<l.length;p++)l[p][1]===e&&l[p][0](n)}}o=I(o)}}function Z(t){return J.call(this,t,!0)}function te(t,e){return we.get(t,e)||new ee(t,e)}function ee(t,e){this._element=t,this._iEvents=this._iEvents||{};var n;if(l(t)){this.selector=t;var r=e&&e.context;n=r?w(r):le,r&&(n.Node?r instanceof n.Node:i(r)||r===n.document)&&(this._context=r)}else n=w(t),i(t,n)&&(ye?(Ue.add(this._element,ce.down,Be.pointerDown),Ue.add(this._element,ce.move,Be.pointerHover)):(Ue.add(this._element,"mousedown",Be.pointerDown),Ue.add(this._element,"mousemove",Be.pointerHover),Ue.add(this._element,"touchstart",Be.pointerDown),Ue.add(this._element,"touchmove",Be.pointerHover)));this._doc=n.document,oe(Ee,this._doc)||re(this._doc),we.push(this),this.set(e)}function ie(t,e){var i=!1;return function(){return i||(le.console.warn(e),i=!0),t.apply(this,arguments)}}function ne(t){for(var e=0;e<Se.length;e++)Se[e].pointerEnd(t,t)}function re(t){if(!oe(Ee,t)){var e=t.defaultView||t.parentWindow;for(var i in _e)Ue.add(t,i,J),Ue.add(t,i,Z,!0);ye?(ce=ye===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Ue.add(t,ce.down,Be.selectorDown),Ue.add(t,ce.move,Be.pointerMove),Ue.add(t,ce.over,Be.pointerOver),Ue.add(t,ce.out,Be.pointerOut),Ue.add(t,ce.up,Be.pointerUp),Ue.add(t,ce.cancel,Be.pointerCancel),Ue.add(t,ce.move,Ce.edgeMove)):(Ue.add(t,"mousedown",Be.selectorDown),Ue.add(t,"mousemove",Be.pointerMove),Ue.add(t,"mouseup",Be.pointerUp),Ue.add(t,"mouseover",Be.pointerOver),Ue.add(t,"mouseout",Be.pointerOut),Ue.add(t,"touchstart",Be.selectorDown),Ue.add(t,"touchmove",Be.pointerMove),Ue.add(t,"touchend",Be.pointerUp),Ue.add(t,"touchcancel",Be.pointerCancel),Ue.add(t,"mousemove",Ce.edgeMove),Ue.add(t,"touchmove",Ce.edgeMove)),Ue.add(e,"blur",ne);try{if(e.frameElement){var n=e.frameElement.ownerDocument,r=n.defaultView;Ue.add(n,"mouseup",Be.pointerEnd),Ue.add(n,"touchend",Be.pointerEnd),Ue.add(n,"touchcancel",Be.pointerEnd),Ue.add(n,"pointerup",Be.pointerEnd),Ue.add(n,"MSPointerUp",Be.pointerEnd),Ue.add(r,"blur",ne)}}catch(s){te.windowParentError=s}Ue.useAttachEvent&&(Ue.add(t,"selectstart",function(t){var e=Se[0];e.currentAction()&&e.checkAndPreventDefault(t)}),Ue.add(t,"dblclick",W("ie8Dblclick"))),Ee.push(t)}}function se(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}function oe(t,e){return-1!==se(t,e)}function ae(e,i,n){return ue?ue(e,i,n):(le!==t&&(i=i.replace(/\/deep\//g," ")),e[Ne](i))}function he(t,e,n){for(;i(t);){if(ae(t,e))return!0;if(t=I(t),t===n)return ae(t,e)}return!1}var ce,ue,le=function(){var e=t.document.createTextNode("");return e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e?t.wrap(t):t}(),pe=le.document,de=le.DocumentFragment||e,fe=le.SVGElement||e,ve=le.SVGSVGElement||e,ge=le.SVGElementInstance||e,me=le.HTMLElement||le.Element,ye=le.PointerEvent||le.MSPointerEvent,xe=Math.hypot||function(t,e){return Math.sqrt(t*t+e*e)},be={},Ee=[],we=[],Se=[],Te=!1,_e={},De={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:pe,rectChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,axis:"xy"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}}},Ce={interaction:null,i:null,x:0,y:0,scroll:function(){var t=Ce.interaction.target.options[Ce.interaction.prepared.name].autoScroll,e=t.container||w(Ce.interaction.element),i=(new Date).getTime(),r=(i-Ce.prevTime)/1e3,s=t.speed*r;s>=1&&(n(e)?e.scrollBy(Ce.x*s,Ce.y*s):e&&(e.scrollLeft+=Ce.x*s,e.scrollTop+=Ce.y*s),Ce.prevTime=i),Ce.isScrolling&&(He(Ce.i),Ce.i=qe(Ce.scroll))},edgeMove:function(t){for(var e,i,r=!1,s=0;s<Se.length;s++)if(e=Se[s],e.interacting()&&q(e.target,e.prepared.name)){i=e.target,r=!0;break}if(r){var o,a,h,c,u=i.options[e.prepared.name].autoScroll,l=u.container||w(e.element);if(n(l))c=t.clientX<Ce.margin,o=t.clientY<Ce.margin,a=t.clientX>l.innerWidth-Ce.margin,h=t.clientY>l.innerHeight-Ce.margin;else{var p=S(l);c=t.clientX<p.left+Ce.margin,o=t.clientY<p.top+Ce.margin,a=t.clientX>p.right-Ce.margin,h=t.clientY>p.bottom-Ce.margin}Ce.x=a?1:c?-1:0,Ce.y=h?1:o?-1:0,Ce.isScrolling||(Ce.margin=u.margin,Ce.speed=u.speed,Ce.start(e))}},isScrolling:!1,prevTime:0,start:function(t){Ce.isScrolling=!0,He(Ce.i),Ce.interaction=t,Ce.prevTime=(new Date).getTime(),Ce.i=qe(Ce.scroll)},stop:function(){Ce.isScrolling=!1,He(Ce.i)}},Ae="ontouchstart"in le||le.DocumentTouch&&pe instanceof le.DocumentTouch,Me=!!ye,ke=Ae||Me?20:10,ze=1,Pe=0,Oe=1/0,$e=pe.all&&!le.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",gesture:""},Ie={drag:!0,resize:!0,gesture:!0},Re="onmousewheel"in pe?"mousewheel":"wheel",Xe=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],Ye={},Fe="Opera"==navigator.appName&&Ae&&navigator.userAgent.match("Presto"),je=/iP(hone|od|ad)/.test(navigator.platform)&&/OS [1-7][^\d]/.test(navigator.appVersion),Ne="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",qe=t.requestAnimationFrame,He=t.cancelAnimationFrame,Ue=function(){function t(t,e,a,p){var d=se(c,t),f=u[d];if(f||(f={events:{},typeCount:0},d=c.push(t)-1,u.push(f),l.push(s?{supplied:[],wrapped:[],useCount:[]}:null)),f.events[e]||(f.events[e]=[],f.typeCount++),!oe(f.events[e],a)){var v;if(s){var g=l[d],m=se(g.supplied,a),y=g.wrapped[m]||function(e){e.immediatePropagationStopped||(e.target=e.srcElement,e.currentTarget=t,e.preventDefault=e.preventDefault||i,e.stopPropagation=e.stopPropagation||n,e.stopImmediatePropagation=e.stopImmediatePropagation||r,/mouse|click/.test(e.type)&&(e.pageX=e.clientX+w(t).document.documentElement.scrollLeft,e.pageY=e.clientY+w(t).document.documentElement.scrollTop),a(e))};v=t[o](h+e,y,Boolean(p)),-1===m?(g.supplied.push(a),g.wrapped.push(y),g.useCount.push(1)):g.useCount[m]++}else v=t[o](e,a,p||!1);return f.events[e].push(a),v}}function e(t,i,n,r){var o,p,d,f=se(c,t),v=u[f],g=n;if(v&&v.events)if(s&&(p=l[f],d=se(p.supplied,n),g=p.wrapped[d]),"all"!==i){if(v.events[i]){var m=v.events[i].length;if("all"===n)for(o=0;m>o;o++)e(t,i,v.events[i][o],Boolean(r));else for(o=0;m>o;o++)if(v.events[i][o]===n){t[a](h+i,g,r||!1),v.events[i].splice(o,1),s&&p&&(p.useCount[d]--,0===p.useCount[d]&&(p.supplied.splice(d,1),p.wrapped.splice(d,1),p.useCount.splice(d,1)));break}v.events[i]&&0===v.events[i].length&&(v.events[i]=null,v.typeCount--)}v.typeCount||(u.splice(f),c.splice(f),l.splice(f))}else for(i in v.events)v.events.hasOwnProperty(i)&&e(t,i,"all")}function i(){this.returnValue=!1}function n(){this.cancelBubble=!0}function r(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var s="attachEvent"in le&&!("addEventListener"in le),o=s?"attachEvent":"addEventListener",a=s?"detachEvent":"removeEventListener",h=s?"on":"",c=[],u=[],l=[];return{add:t,remove:e,useAttachEvent:s,_elements:c,_targets:u,_attachedListeners:l}}();B.prototype={getPageXY:function(t,e){return m(t,e,this)},getClientXY:function(t,e){return y(t,e,this)},setEventXY:function(t,e){return f(t,e,this)},pointerOver:function(t,e,i){function n(t,e){t&&R(t,i)&&!X(t,i,i)&&Y(t,i,i)&&ae(i,e)&&(r.push(t),s.push(i))}if(!this.prepared.name&&this.mouse){var r=[],s=[],o=this.element;this.addPointer(t),!this.target||!X(this.target,this.element,i)&&Y(this.target,this.element,i)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var a=we.get(i),h=a&&!X(a,i,i)&&Y(a,i,i)&&G(a.getAction(t,this,i),a);h&&!H(a,i,h)&&(h=null),h?(this.target=a,this.element=i,this.matches=[],this.matchElements=[]):(we.forEachSelector(n),this.validateSelector(t,r,s)?(this.matches=r,this.matchElements=s,this.pointerHover(t,e,this.matches,this.matchElements),Ue.add(i,ye?ce.move:"mousemove",Be.pointerHover)):this.target&&(O(o,i)?(this.pointerHover(t,e,this.matches,this.matchElements),Ue.add(this.element,ye?ce.move:"mousemove",Be.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(t,e,i,n,r,s){var o=this.target;if(!this.prepared.name&&this.mouse){var a;this.setEventXY(this.curCoords,t),r?a=this.validateSelector(t,r,s):o&&(a=G(o.getAction(this.pointers[0],this,this.element),this.target)),o&&o.options.styleCursor&&(o._doc.documentElement.style.cursor=a?$e[a.name+(a.axis||"")]:"")}else this.prepared.name&&this.checkAndPreventDefault(e,o,this.element)},pointerOut:function(t,e,i){this.prepared.name||(we.get(i)||Ue.remove(i,ye?ce.move:"mousemove",Be.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(t,e,n,r){function s(t,e,i){var r=ue?i.querySelectorAll(e):void 0;R(t,c)&&!X(t,c,n)&&Y(t,c,n)&&ae(c,e,r)&&(a.matches.push(t),a.matchElements.push(c))}var o,a=this,h=Ue.useAttachEvent?p({},e):e,c=n,u=this.addPointer(t);if(this.holdTimers[u]=setTimeout(function(){a.pointerHold(Ue.useAttachEvent?h:t,h,n,r)},600),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;i(c);){if(c===this.element&&G(this.target.getAction(t,this,this.element),this.target).name===this.prepared.name)return He(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(t,e,n,"down");c=I(c)}if(this.interacting())return void this.collectEventTargets(t,e,n,"down");for(this.setEventXY(this.curCoords,t);i(c)&&!o;)this.matches=[],this.matchElements=[],we.forEachSelector(s),o=this.validateSelector(t,this.matches,this.matchElements),c=I(c);return o?(this.prepared.name=o.name,this.prepared.axis=o.axis,this.collectEventTargets(t,e,n,"down"),this.pointerDown(t,e,n,r,o)):(this.downTimes[u]=(new Date).getTime(),this.downTargets[u]=n,this.downEvent=e,p(this.downPointer,t),d(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void this.collectEventTargets(t,e,n,"down"))},pointerDown:function(t,e,i,n,r){if(!r&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)return void this.checkAndPreventDefault(e,this.target,this.element);this.pointerIsDown=!0;var s,o=this.addPointer(t);if(this.pointerIds.length<2&&!this.target||!this.prepared.name){var a=we.get(n);a&&!X(a,n,i)&&Y(a,n,i)&&(s=G(r||a.getAction(t,this),a,i))&&H(a,n,s)&&(this.target=a,this.element=n)}var h=this.target,c=h&&h.options;if(h&&!this.interacting()){if(s=s||G(r||h.getAction(t,this),h,this.element),this.setEventXY(this.startCoords),!s)return;c.styleCursor&&(h._doc.documentElement.style.cursor=$e[s]),this.resizeAxes="resize"===s.name?s.axis:null,"gesture"===s&&this.pointerIds.length<2&&(s=null),this.prepared.name=s.name,this.prepared.axis=s.axis,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=0/0,this.downTimes[o]=(new Date).getTime(),this.downTargets[o]=i,this.downEvent=e,p(this.downPointer,t),this.setEventXY(this.prevCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(e,h,this.element)}else this.inertiaStatus.active&&n===this.element&&G(h.getAction(t,this,this.element),h).name===this.prepared.name&&(He(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(e,h,this.element))},setModifications:function(t,e){var i=this.target,n=!0,r=j(i,this.prepared.name)&&(!i.options[this.prepared.name].snap.endOnly||e),s=N(i,this.prepared.name)&&(!i.options[this.prepared.name].restrict.endOnly||e);return r?this.setSnapping(t):this.snapStatus.locked=!1,s?this.setRestriction(t):this.restrictStatus.restricted=!1,r&&this.snapStatus.locked&&!this.snapStatus.changed?n=s&&this.restrictStatus.restricted&&this.restrictStatus.changed:s&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(n=!1),n},setStartOffsets:function(t,e,i){var n,r,s=e.getRect(i),o=M(e,i),a=e.options[this.prepared.name].snap,h=e.options[this.prepared.name].restrict;s?(this.startOffset.left=this.startCoords.page.x-s.left,this.startOffset.top=this.startCoords.page.y-s.top,this.startOffset.right=s.right-this.startCoords.page.x,this.startOffset.bottom=s.bottom-this.startCoords.page.y,n="width"in s?s.width:s.right-s.left,r="height"in s?s.height:s.bottom-s.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var c=a&&"startCoords"===a.offset?{x:this.startCoords.page.x-o.x,y:this.startCoords.page.y-o.y}:a&&a.offset||{x:0,y:0};if(s&&a&&a.relativePoints&&a.relativePoints.length)for(var u=0;u<a.relativePoints.length;u++)this.snapOffsets.push({x:this.startOffset.left-n*a.relativePoints[u].x+c.x,y:this.startOffset.top-r*a.relativePoints[u].y+c.y});else this.snapOffsets.push(c);s&&h.elementRect?(this.restrictOffset.left=this.startOffset.left-n*h.elementRect.left,this.restrictOffset.top=this.startOffset.top-r*h.elementRect.top,this.restrictOffset.right=this.startOffset.right-n*(1-h.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-r*(1-h.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(t,e,i){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===t.name?2:1)||(this.prepared.name=t.name,this.prepared.axis=t.axis,this.target=e,this.element=i,this.setStartOffsets(t.name,e,i),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(t,e,n,r,s){this.recordPointer(t),this.setEventXY(this.curCoords,t instanceof L?this.inertiaStatus.startEvent:void 0);var o,a,h=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,c=this.mouse?0:se(this.pointerIds,b(t));if(this.pointerIsDown&&!this.pointerWasMoved&&(o=this.curCoords.client.x-this.startCoords.client.x,a=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=xe(o,a)>ze),h||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[c]),this.collectEventTargets(t,e,n,"move")),this.pointerIsDown){if(h&&this.pointerWasMoved&&!s)return void this.checkAndPreventDefault(e,this.target,this.element);if(v(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||t instanceof L&&/inertiastart/.test(t.type))){if(!this.interacting()&&(v(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var u=Math.abs(o),l=Math.abs(a),p=this.target.options.drag.axis,f=u>l?"x":l>u?"y":"xy";if("xy"!==f&&"xy"!==p&&p!==f){this.prepared.name=null;for(var g=n;i(g);){var m=we.get(g);if(m&&m!==this.target&&!m.options.drag.manualStart&&"drag"===m.getAction(this.downPointer,this,g).name&&F(f,m)){this.prepared.name="drag",this.target=m,this.element=g;break}g=I(g)}if(!this.prepared.name){var y=function(t,e,i){var r=ue?i.querySelectorAll(e):void 0;if(t!==this.target)return R(t,n)&&!t.options.drag.manualStart&&!X(t,g,n)&&Y(t,g,n)&&ae(g,e,r)&&"drag"===t.getAction(this.downPointer,this,g).name&&F(f,t)&&H(t,g,"drag")?t:void 0};for(g=n;i(g);){var x=we.forEachSelector(y);if(x){this.prepared.name="drag",this.target=x,this.element=g;break}g=I(g)}}}}var E=!!this.prepared.name&&!this.interacting();if(E&&(this.target.options[this.prepared.name].manualStart||!H(this.target,this.element,this.prepared)))return void this.stop();if(this.prepared.name&&this.target){E&&this.start(this.prepared,this.target,this.element);var w=this.setModifications(this.curCoords.page,s);(w||E)&&(this.prevEvent=this[this.prepared.name+"Move"](e)),this.checkAndPreventDefault(e,this.target,this.element)}}d(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&Ce.edgeMove(e)}}},dragStart:function(t){var e=new L(this,t,"drag","start",this.element);this.dragging=!0,this.target.fire(e),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var i=this.getDropEvents(t,e);return i.activate&&this.fireActiveDrops(i.activate),e},dragMove:function(t){var e=this.target,i=new L(this,t,"drag","move",this.element),n=this.element,r=this.getDrop(i,n);this.dropTarget=r.dropzone,this.dropElement=r.element;var s=this.getDropEvents(t,i);return e.fire(i),s.leave&&this.prevDropTarget.fire(s.leave),s.enter&&this.dropTarget.fire(s.enter),s.move&&this.dropTarget.fire(s.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,i},resizeStart:function(t){var e=new L(this,t,"resize","start",this.element);return this.target.fire(e),this.resizing=!0,e},resizeMove:function(t){var e=new L(this,t,"resize","move",this.element);return this.target.fire(e),e},gestureStart:function(t){var e=new L(this,t,"gesture","start",this.element);return e.ds=0,this.gesture.startDistance=this.gesture.prevDistance=e.distance,this.gesture.startAngle=this.gesture.prevAngle=e.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(e),e},gestureMove:function(t){if(!this.pointerIds.length)return this.prevEvent;var e;return e=new L(this,t,"gesture","move",this.element),e.ds=e.scale-this.gesture.scale,this.target.fire(e),this.gesture.prevAngle=e.angle,this.gesture.prevDistance=e.distance,1/0===e.scale||null===e.scale||void 0===e.scale||isNaN(e.scale)||(this.gesture.scale=e.scale),e},pointerHold:function(t,e,i){this.collectEventTargets(t,e,i,"hold")},pointerUp:function(t,e,i,n){var r=this.mouse?0:se(this.pointerIds,b(t));clearTimeout(this.holdTimers[r]),this.collectEventTargets(t,e,i,"up"),this.collectEventTargets(t,e,i,"tap"),this.pointerEnd(t,e,i,n),this.removePointer(t)},pointerCancel:function(t,e,i,n){var r=this.mouse?0:se(this.pointerIds,b(t));clearTimeout(this.holdTimers[r]),this.collectEventTargets(t,e,i,"cancel"),this.pointerEnd(t,e,i,n)},ie8Dblclick:function(t,e,i){this.prevTap&&e.clientX===this.prevTap.clientX&&e.clientY===this.prevTap.clientY&&i===this.prevTap.target&&(this.downTargets[0]=i,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(t,e,i,"tap"))},pointerEnd:function(t,e,i,n){var r,s=this.target,o=s&&s.options,a=o&&this.prepared.name&&o[this.prepared.name].inertia,h=this.inertiaStatus;if(this.interacting()){if(h.active)return;var c,u,l=(new Date).getTime(),f=!1,v=!1,g=!1,m=j(s,this.prepared.name)&&o[this.prepared.name].snap.endOnly,y=N(s,this.prepared.name)&&o[this.prepared.name].restrict.endOnly,x=0,b=0;if(c=this.dragging?"x"===o.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===o.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,f=a&&a.enabled&&"gesture"!==this.prepared.name&&e!==h.startEvent,v=f&&l-this.curCoords.timeStamp<50&&c>a.minSpeed&&c>a.endSpeed,f&&!v&&(m||y)){var E={};E.snap=E.restrict=E,m&&(this.setSnapping(this.curCoords.page,E),E.locked&&(x+=E.dx,b+=E.dy)),y&&(this.setRestriction(this.curCoords.page,E),E.restricted&&(x+=E.dx,b+=E.dy)),(x||b)&&(g=!0)}if(v||g){if(d(h.upCoords,this.curCoords),this.pointers[0]=h.startEvent=u=new L(this,e,this.prepared.name,"inertiastart",this.element),h.t0=l,s.fire(h.startEvent),v){h.vx0=this.pointerDelta.client.vx,h.vy0=this.pointerDelta.client.vy,h.v0=c,this.calcInertia(h);var w,S=p({},this.curCoords.page),T=M(s,this.element);if(S.x=S.x+h.xe-T.x,S.y=S.y+h.ye-T.y,w={useStatusXY:!0,x:S.x,y:S.y,dx:0,dy:0,snap:null},w.snap=w,x=b=0,m){var _=this.setSnapping(this.curCoords.page,w);_.locked&&(x+=_.dx,b+=_.dy)}if(y){var D=this.setRestriction(this.curCoords.page,w);D.restricted&&(x+=D.dx,b+=D.dy)}h.modifiedXe+=x,h.modifiedYe+=b,h.i=qe(this.boundInertiaFrame)}else h.smoothEnd=!0,h.xe=x,h.ye=b,h.sx=h.sy=0,h.i=qe(this.boundSmoothEndFrame);return void(h.active=!0)}(m||y)&&this.pointerMove(t,e,i,n,!0)}if(this.dragging){r=new L(this,e,"drag","end",this.element);var C=this.element,A=this.getDrop(r,C);this.dropTarget=A.dropzone,this.dropElement=A.element;var k=this.getDropEvents(e,r);k.leave&&this.prevDropTarget.fire(k.leave),k.enter&&this.dropTarget.fire(k.enter),k.drop&&this.dropTarget.fire(k.drop),k.deactivate&&this.fireActiveDrops(k.deactivate),s.fire(r)}else this.resizing?(r=new L(this,e,"resize","end",this.element),s.fire(r)):this.gesturing&&(r=new L(this,e,"gesture","end",this.element),s.fire(r));this.stop(e)},collectDrops:function(t){var e,n=[],r=[];for(t=t||this.element,e=0;e<we.length;e++)if(we[e].options.drop.enabled){var s=we[e],o=s.options.drop.accept;if(!(i(o)&&o!==t||u(o)&&!ae(t,o)))for(var a=s.selector?s._context.querySelectorAll(s.selector):[s._element],h=0,c=a.length;c>h;h++){var l=a[h];l!==t&&(n.push(s),r.push(l))}}return{dropzones:n,elements:r}},fireActiveDrops:function(t){var e,i,n,r;for(e=0;e<this.activeDrops.dropzones.length;e++)i=this.activeDrops.dropzones[e],n=this.activeDrops.elements[e],n!==r&&(t.target=n,i.fire(t)),r=n},setActiveDrops:function(t){var e=this.collectDrops(t,!0);this.activeDrops.dropzones=e.dropzones,this.activeDrops.elements=e.elements,this.activeDrops.rects=[];for(var i=0;i<this.activeDrops.dropzones.length;i++)this.activeDrops.rects[i]=this.activeDrops.dropzones[i].getRect(this.activeDrops.elements[i])},getDrop:function(t,e){var i=[];Te&&this.setActiveDrops(e);for(var n=0;n<this.activeDrops.dropzones.length;n++){var r=this.activeDrops.dropzones[n],s=this.activeDrops.elements[n],o=this.activeDrops.rects[n];i.push(r.dropCheck(this.pointers[0],this.target,e,s,o)?s:null)}var a=U(i),h=this.activeDrops.dropzones[a]||null,c=this.activeDrops.elements[a]||null;return{dropzone:h,element:c}},getDropEvents:function(t,e){var i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(i.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragleave"},e.dragLeave=this.prevDropElement,e.prevDropzone=this.prevDropTarget),this.dropTarget&&(i.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragenter"},e.dragEnter=this.dropElement,e.dropzone=this.dropTarget)),"dragend"===e.type&&this.dropTarget&&(i.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"drop"}),"dragstart"===e.type&&(i.activate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropactivate"}),"dragend"===e.type&&(i.deactivate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropdeactivate"}),"dragmove"===e.type&&this.dropTarget&&(i.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,dragmove:e,timeStamp:e.timeStamp,type:"dropmove"},e.dropzone=this.dropTarget),i},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target&&!this.target.selector&&(this.target=this.element=null),this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(t){if(this.interacting()){Ce.stop(),this.matches=[],this.matchElements=[];var e=this.target;e.options.styleCursor&&(e._doc.documentElement.style.cursor=""),t&&a(t.preventDefault)&&this.checkAndPreventDefault(t,e,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null),this.clearTargets()}this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0,this.pointerIds.splice(0),this.pointers.splice(0),this.downTargets.splice(0),this.downTimes.splice(0),this.holdTimers.splice(0),Se.length>1&&Se.splice(se(Se,this),1)},inertiaFrame:function(){var t=this.inertiaStatus,e=this.target.options[this.prepared.name].inertia,i=e.resistance,n=(new Date).getTime()/1e3-t.t0;if(n<t.te){var r=1-(Math.exp(-i*n)-t.lambda_v0)/t.one_ve_v0;if(t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*r,t.sy=t.ye*r;else{var s=z(0,0,t.xe,t.ye,t.modifiedXe,t.modifiedYe,r);t.sx=s.x,t.sy=s.y}this.pointerMove(t.startEvent,t.startEvent),t.i=qe(this.boundInertiaFrame)}else t.sx=t.modifiedXe,t.sy=t.modifiedYe,this.pointerMove(t.startEvent,t.startEvent),t.active=!1,this.pointerEnd(t.startEvent,t.startEvent)},smoothEndFrame:function(){var t=this.inertiaStatus,e=(new Date).getTime()-t.t0,i=this.target.options[this.prepared.name].inertia.smoothEndDuration;i>e?(t.sx=P(e,0,t.xe,i),t.sy=P(e,0,t.ye,i),this.pointerMove(t.startEvent,t.startEvent),t.i=qe(this.boundSmoothEndFrame)):(t.sx=t.xe,t.sy=t.ye,this.pointerMove(t.startEvent,t.startEvent),t.active=!1,t.smoothEnd=!1,this.pointerEnd(t.startEvent,t.startEvent))},addPointer:function(t){var e=b(t),i=this.mouse?0:se(this.pointerIds,e);return-1===i&&(i=this.pointerIds.length),this.pointerIds[i]=e,this.pointers[i]=t,i},removePointer:function(t){var e=b(t),i=this.mouse?0:se(this.pointerIds,e);-1!==i&&(this.interacting()||this.pointers.splice(i,1),this.pointerIds.splice(i,1),this.downTargets.splice(i,1),this.downTimes.splice(i,1),this.holdTimers.splice(i,1))},recordPointer:function(t){if(!this.inertiaStatus.active){var e=this.mouse?0:se(this.pointerIds,b(t));-1!==e&&(this.pointers[e]=t)}},collectEventTargets:function(t,e,n,r){function s(t,e,s){var o=ue?s.querySelectorAll(e):void 0;t._iEvents[r]&&i(c)&&R(t,c)&&!X(t,c,n)&&Y(t,c,n)&&ae(c,e,o)&&(a.push(t),h.push(c))}var o=this.mouse?0:se(this.pointerIds,b(t));if("tap"!==r||!this.pointerWasMoved&&this.downTargets[o]&&this.downTargets[o]===n){for(var a=[],h=[],c=n;c;)te.isSet(c)&&te(c)._iEvents[r]&&(a.push(te(c)),h.push(c)),we.forEachSelector(s),c=I(c);(a.length||"tap"===r)&&this.firePointers(t,e,n,a,h,r)}},firePointers:function(t,e,i,n,r,s){var o,a,h,c=this.mouse?0:se(b(t)),l={};for("doubletap"===s?l=t:(p(l,e),e!==t&&p(l,t),l.preventDefault=Q,l.stopPropagation=L.prototype.stopPropagation,l.stopImmediatePropagation=L.prototype.stopImmediatePropagation,l.interaction=this,l.timeStamp=(new Date).getTime(),l.originalEvent=e,l.type=s,l.pointerId=b(t),l.pointerType=this.mouse?"mouse":Me?u(t.pointerType)?t.pointerType:[,,"touch","pen","mouse"][t.pointerType]:"touch"),"tap"===s&&(l.dt=l.timeStamp-this.downTimes[c],a=l.timeStamp-this.tapTime,h=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===l.target&&500>a),l["double"]=h,this.tapTime=l.timeStamp),o=0;o<n.length&&(l.currentTarget=r[o],l.interactable=n[o],n[o].fire(l),!(l.immediatePropagationStopped||l.propagationStopped&&r[o+1]!==l.currentTarget));o++);if(h){var d={};p(d,l),d.dt=a,d.type="doubletap",this.collectEventTargets(d,e,i,"doubletap"),this.prevTap=d}else"tap"===s&&(this.prevTap=l)},validateSelector:function(t,e,i){for(var n=0,r=e.length;r>n;n++){var s=e[n],o=i[n],a=G(s.getAction(t,this,o),s);if(a&&H(s,o,a))return this.target=s,this.element=o,a}},setSnapping:function(t,e){var i,n,r,s=this.target.options[this.prepared.name].snap,o=[];if(e=e||this.snapStatus,e.useStatusXY)n={x:e.x,y:e.y};else{var c=M(this.target,this.element);n=p({},t),n.x-=c.x,n.y-=c.y}e.realX=n.x,e.realY=n.y,n.x=n.x-this.inertiaStatus.resumeDx,n.y=n.y-this.inertiaStatus.resumeDy;for(var u=s.targets?s.targets.length:0,l=0;l<this.snapOffsets.length;l++){var d={x:n.x-this.snapOffsets[l].x,y:n.y-this.snapOffsets[l].y};for(r=0;u>r;r++)i=a(s.targets[r])?s.targets[r](d.x,d.y,this):s.targets[r],i&&o.push({x:h(i.x)?i.x+this.snapOffsets[l].x:d.x,y:h(i.y)?i.y+this.snapOffsets[l].y:d.y,range:h(i.range)?i.range:s.range})}var f={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(r=0,u=o.length;u>r;r++){i=o[r];var v=i.range,g=i.x-n.x,m=i.y-n.y,y=xe(g,m),x=v>=y;1/0===v&&f.inRange&&1/0!==f.range&&(x=!1),(!f.target||(x?f.inRange&&1/0!==v?y/v<f.distance/f.range:1/0===v&&1/0!==f.range||y<f.distance:!f.inRange&&y<f.distance))&&(1/0===v&&(x=!0),f.target=i,f.distance=y,f.range=v,f.inRange=x,f.dx=g,f.dy=m,e.range=v)}var b;return f.target?(b=e.snappedX!==f.target.x||e.snappedY!==f.target.y,e.snappedX=f.target.x,e.snappedY=f.target.y):(b=!0,e.snappedX=0/0,e.snappedY=0/0),e.dx=f.dx,e.dy=f.dy,e.changed=b||f.inRange&&!e.locked,e.locked=f.inRange,e},setRestriction:function(t,e){var n,r=this.target,s=r&&r.options[this.prepared.name].restrict,o=s&&s.restriction;if(!o)return e;e=e||this.restrictStatus,n=n=e.useStatusXY?{x:e.x,y:e.y}:p({},t),e.snap&&e.snap.locked&&(n.x+=e.snap.dx||0,n.y+=e.snap.dy||0),n.x-=this.inertiaStatus.resumeDx,n.y-=this.inertiaStatus.resumeDy,e.dx=0,e.dy=0,e.restricted=!1;var h,c,l;return u(o)&&(o="parent"===o?I(this.element):"self"===o?r.getRect(this.element):$(this.element,o),!o)?e:(a(o)&&(o=o(n.x,n.y,this.element)),i(o)&&(o=S(o)),h=o,o?"x"in o&&"y"in o?(c=Math.max(Math.min(h.x+h.width-this.restrictOffset.right,n.x),h.x+this.restrictOffset.left),l=Math.max(Math.min(h.y+h.height-this.restrictOffset.bottom,n.y),h.y+this.restrictOffset.top)):(c=Math.max(Math.min(h.right-this.restrictOffset.right,n.x),h.left+this.restrictOffset.left),l=Math.max(Math.min(h.bottom-this.restrictOffset.bottom,n.y),h.top+this.restrictOffset.top)):(c=n.x,l=n.y),e.dx=c-n.x,e.dy=l-n.y,e.changed=e.restrictedX!==c||e.restrictedY!==l,e.restricted=!(!e.dx&&!e.dy),e.restrictedX=c,e.restrictedY=l,e)
},checkAndPreventDefault:function(t,e,i){if(e=e||this.target){var n=e.options,r=n.preventDefault;if("auto"===r&&i&&!/^input$|^textarea$/i.test(i.nodeName)){if(/down|start/i.test(t.type)&&"drag"===this.prepared.name&&"xy"!==n.drag.axis)return;return void t.preventDefault()}return"always"===r?void t.preventDefault():void 0}},calcInertia:function(t){var e=this.target.options[this.prepared.name].inertia,i=e.resistance,n=-Math.log(e.endSpeed/t.v0)/i;t.x0=this.prevEvent.pageX,t.y0=this.prevEvent.pageY,t.t0=t.startEvent.timeStamp/1e3,t.sx=t.sy=0,t.modifiedXe=t.xe=(t.vx0-n)/i,t.modifiedYe=t.ye=(t.vy0-n)/i,t.te=n,t.lambda_v0=i/t.v0,t.one_ve_v0=1-e.endSpeed/t.v0},_updateEventTargets:function(t,e){this._eventTarget=e,this._curEventTarget=t}},L.prototype={preventDefault:e,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var Be={},Ve=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer"],We=0,Le=Ve.length;Le>We;We++){var Qe=Ve[We];Be[Qe]=W(Qe)}we.indexOfElement=function(t,e){e=e||pe;for(var i=0;i<this.length;i++){var n=this[i];if(n.selector===t&&n._context===e||!n.selector&&n._element===t)return i}return-1},we.get=function(t,e){return this[this.indexOfElement(t,e&&e.context)]},we.forEachSelector=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.selector){var n=t(i,i.selector,i._context,e,this);if(void 0!==n)return n}}},ee.prototype={setOnEvents:function(t,e){return"drop"===t?(a(e.ondrop)&&(this.ondrop=e.ondrop),a(e.ondropactivate)&&(this.ondropactivate=e.ondropactivate),a(e.ondropdeactivate)&&(this.ondropdeactivate=e.ondropdeactivate),a(e.ondragenter)&&(this.ondragenter=e.ondragenter),a(e.ondragleave)&&(this.ondragleave=e.ondragleave),a(e.ondropmove)&&(this.ondropmove=e.ondropmove)):(t="on"+t,a(e.onstart)&&(this[t+"start"]=e.onstart),a(e.onmove)&&(this[t+"move"]=e.onmove),a(e.onend)&&(this[t+"end"]=e.onend),a(e.oninertiastart)&&(this[t+"inertiastart"]=e.oninertiastart)),this},draggable:function(t){return o(t)?(this.options.drag.enabled=t.enabled===!1?!1:!0,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.drag.axis=t.axis:null===t.axis&&delete this.options.drag.axis,this):c(t)?(this.options.drag.enabled=t,this):this.options.drag},setPerAction:function(t,e){for(var i in e)i in De[t]&&(o(e[i])?(this.options[t][i]=p(this.options[t][i]||{},e[i]),o(De.perAction[i])&&"enabled"in De.perAction[i]&&(this.options[t][i].enabled=e[i].enabled===!1?!1:!0)):c(e[i])&&o(De.perAction[i])?this.options[t][i].enabled=e[i]:void 0!==e[i]&&(this.options[t][i]=e[i]))},dropzone:function(t){return o(t)?(this.options.drop.enabled=t.enabled===!1?!1:!0,this.setOnEvents("drop",t),this.accept(t.accept),/^(pointer|center)$/.test(t.overlap)?this.options.drop.overlap=t.overlap:h(t.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),this):c(t)?(this.options.drop.enabled=t,this):this.options.drop},dropCheck:function(t,e,i,n,r){if(!(r=r||this.getRect(n)))return!1;var s=this.options.drop.overlap;if("pointer"===s){var o,a,c=m(t),u=M(e,i);return c.x+=u.x,c.y+=u.y,o=c.x>r.left&&c.x<r.right,a=c.y>r.top&&c.y<r.bottom,o&&a}var l=e.getRect(i);if("center"===s){var p=l.left+l.width/2,d=l.top+l.height/2;return p>=r.left&&p<=r.right&&d>=r.top&&d<=r.bottom}if(h(s)){var f=Math.max(0,Math.min(r.right,l.right)-Math.max(r.left,l.left))*Math.max(0,Math.min(r.bottom,l.bottom)-Math.max(r.top,l.top)),v=f/(l.width*l.height);return v>=s}},dropChecker:function(t){return a(t)?(this.dropCheck=t,this):this.dropCheck},accept:function(t){return i(t)?(this.options.drop.accept=t,this):l(t)?(this.options.drop.accept=t,this):null===t?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(t){return o(t)?(this.options.resize.enabled=t.enabled===!1?!1:!0,this.setPerAction("resize",t),this.setOnEvents("resize",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.resize.axis=t.axis:null===t.axis&&(this.options.resize.axis=De.resize.axis),c(t.square)&&(this.options.resize.square=t.square),this):c(t)?(this.options.resize.enabled=t,this):this.options.resize},squareResize:function(t){return c(t)?(this.options.resize.square=t,this):null===t?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(t){return o(t)?(this.options.gesture.enabled=t.enabled===!1?!1:!0,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):c(t)?(this.options.gesture.enabled=t,this):this.options.gesture},autoScroll:function(t){return o(t)?t=p({actions:["drag","resize"]},t):c(t)&&(t={actions:["drag","resize"],enabled:t}),this.setOptions("autoScroll",t)},snap:function(t){var e=this.setOptions("snap",t);return e===this?this:e.drag},setOptions:function(t,e){var i,n=e&&s(e.actions)?e.actions:["drag"];if(o(e)||c(e)){for(i=0;i<n.length;i++){var r=/resize/.test(n[i])?"resize":n[i];if(o(this.options[r])){var a=this.options[r][t];o(e)?(p(a,e),a.enabled=e.enabled===!1?!1:!0,"snap"===t&&("grid"===a.mode?a.targets=[te.createSnapGrid(p({offset:a.gridOffset||{x:0,y:0}},a.grid||{}))]:"anchor"===a.mode?a.targets=a.anchors:"path"===a.mode&&(a.targets=a.paths),"elementOrigin"in e&&(a.relativePoints=[e.elementOrigin]))):c(e)&&(a.enabled=e)}}return this}var h={},u=["drag","resize","gesture"];for(i=0;i<u.length;i++)t in De[u[i]]&&(h[u[i]]=this.options[u[i]][t]);return h},inertia:function(t){var e=this.setOptions("inertia",t);return e===this?this:e.drag},getAction:function(t,e,i){var n=this.defaultActionChecker(t,e,i);return this.options.actionChecker?this.options.actionChecker(t,n,this,i,e):n},defaultActionChecker:K,actionChecker:function(t){return a(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(t){return t=t||this._element,this.selector&&!i(t)&&(t=this._context.querySelector(this.selector)),S(t)},rectChecker:function(t){return a(t)?(this.getRect=t,this):null===t?(delete this.options.getRect,this):this.getRect},styleCursor:function(t){return c(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):c(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault},origin:function(t){return l(t)?(this.options.origin=t,this):o(t)?(this.options.origin=t,this):this.options.origin},deltaSource:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},restrict:function(t){if(!o(t))return this.setOptions("restrict",t);for(var e,i=["drag","resize","gesture"],n=0;n<i.length;n++){var r=i[n];if(r in t){var s=p({actions:[r],restriction:t[r]},t);e=this.setOptions("restrict",s)}}return e},context:function(){return this._context},_context:pe,ignoreFrom:function(t){return l(t)?(this.options.ignoreFrom=t,this):i(t)?(this.options.ignoreFrom=t,this):this.options.ignoreFrom},allowFrom:function(t){return l(t)?(this.options.allowFrom=t,this):i(t)?(this.options.allowFrom=t,this):this.options.allowFrom},element:function(){return this._element},fire:function(t){if(!t||!t.type||!oe(Xe,t.type))return this;var e,i,n,r="on"+t.type,s="";if(t.type in this._iEvents)for(e=this._iEvents[t.type],i=0,n=e.length;n>i&&!t.immediatePropagationStopped;i++)s=e[i].name,e[i](t);if(a(this[r])&&(s=this[r].name,this[r](t)),t.type in Ye&&(e=Ye[t.type]))for(i=0,n=e.length;n>i&&!t.immediatePropagationStopped;i++)s=e[i].name,e[i](t);return this},on:function(t,e,i){var n;if(u(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s(t)){for(n=0;n<t.length;n++)this.on(t[n],e,i);return this}if(o(t)){for(var r in t)this.on(r,t[r],e);return this}if("wheel"===t&&(t=Re),i=i?!0:!1,oe(Xe,t))t in this._iEvents?this._iEvents[t].push(e):this._iEvents[t]=[e];else if(this.selector){if(!_e[t])for(_e[t]={selectors:[],contexts:[],listeners:[]},n=0;n<Ee.length;n++)Ue.add(Ee[n],t,J),Ue.add(Ee[n],t,Z,!0);var a,h=_e[t];for(a=h.selectors.length-1;a>=0&&(h.selectors[a]!==this.selector||h.contexts[a]!==this._context);a--);-1===a&&(a=h.selectors.length,h.selectors.push(this.selector),h.contexts.push(this._context),h.listeners.push([])),h.listeners[a].push([e,i])}else Ue.add(this._element,t,e,i);return this},off:function(t,e,i){var n;if(u(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s(t)){for(n=0;n<t.length;n++)this.off(t[n],e,i);return this}if(o(t)){for(var r in t)this.off(r,t[r],e);return this}var a,h=-1;if(i=i?!0:!1,"wheel"===t&&(t=Re),oe(Xe,t))a=this._iEvents[t],a&&-1!==(h=se(a,e))&&this._iEvents[t].splice(h,1);else if(this.selector){var c=_e[t],l=!1;if(!c)return this;for(h=c.selectors.length-1;h>=0;h--)if(c.selectors[h]===this.selector&&c.contexts[h]===this._context){var p=c.listeners[h];for(n=p.length-1;n>=0;n--){var d=p[n][0],f=p[n][1];if(d===e&&f===i){p.splice(n,1),p.length||(c.selectors.splice(h,1),c.contexts.splice(h,1),c.listeners.splice(h,1),Ue.remove(this._context,t,J),Ue.remove(this._context,t,Z,!0),c.selectors.length||(_e[t]=null)),l=!0;break}}if(l)break}}else Ue.remove(this._element,t,e,i);return this},set:function(t){o(t)||(t={}),this.options=p({},De.base);var e,i=["drag","drop","resize","gesture"],n=["draggable","dropzone","resizable","gesturable"],r=p(p({},De.perAction),t[s]||{});for(e=0;e<i.length;e++){var s=i[e];this.options[s]=p({},De[s]),this.setPerAction(s,r),this[n[e]](t[s])}var a=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker"];for(e=0,Le=a.length;Le>e;e++){var h=a[e];this.options[h]=De.base[h],h in t&&this[h](t[h])}return this},unset:function(){if(Ue.remove(this,"all"),u(this.selector))for(var t in _e)for(var e=_e[t],i=0;i<e.selectors.length;i++){e.selectors[i]===this.selector&&e.contexts[i]===this._context&&(e.selectors.splice(i,1),e.contexts.splice(i,1),e.listeners.splice(i,1),e.selectors.length||(_e[t]=null)),Ue.remove(this._context,t,J),Ue.remove(this._context,t,Z,!0);break}else Ue.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),we.splice(se(we,this),1),te}},ee.prototype.snap=ie(ee.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),ee.prototype.restrict=ie(ee.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),ee.prototype.inertia=ie(ee.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),ee.prototype.autoScroll=ie(ee.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),te.isSet=function(t,e){return-1!==we.indexOfElement(t,e&&e.context)},te.on=function(t,e,i){if(u(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s(t)){for(var n=0;n<t.length;n++)te.on(t[n],e,i);return te}if(o(t)){for(var r in t)te.on(r,t[r],e);return te}return oe(Xe,t)?Ye[t]?Ye[t].push(e):Ye[t]=[e]:Ue.add(pe,t,e,i),te},te.off=function(t,e,i){if(u(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s(t)){for(var n=0;n<t.length;n++)te.off(t[n],e,i);return te}if(o(t)){for(var r in t)te.off(r,t[r],e);return te}if(oe(Xe,t)){var a;t in Ye&&-1!==(a=se(Ye[t],e))&&Ye[t].splice(a,1)}else Ue.remove(pe,t,e,i);return te},te.enableDragging=ie(function(t){return null!==t&&void 0!==t?(Ie.drag=t,te):Ie.drag},"interact.enableDragging is deprecated and will soon be removed."),te.enableResizing=ie(function(t){return null!==t&&void 0!==t?(Ie.resize=t,te):Ie.resize},"interact.enableResizing is deprecated and will soon be removed."),te.enableGesturing=ie(function(t){return null!==t&&void 0!==t?(Ie.gesture=t,te):Ie.gesture},"interact.enableGesturing is deprecated and will soon be removed."),te.eventTypes=Xe,te.debug=function(){var t=Se[0]||new B;return{interactions:Se,target:t.target,dragging:t.dragging,resizing:t.resizing,gesturing:t.gesturing,prepared:t.prepared,matches:t.matches,matchElements:t.matchElements,prevCoords:t.prevCoords,startCoords:t.startCoords,pointerIds:t.pointerIds,pointers:t.pointers,addPointer:Be.addPointer,removePointer:Be.removePointer,recordPointer:Be.recordPointer,snap:t.snapStatus,restrict:t.restrictStatus,inertia:t.inertiaStatus,downTime:t.downTimes[0],downEvent:t.downEvent,downPointer:t.downPointer,prevEvent:t.prevEvent,Interactable:ee,interactables:we,pointerIsDown:t.pointerIsDown,defaultOptions:De,defaultActionChecker:K,actionCursors:$e,dragMove:Be.dragMove,resizeMove:Be.resizeMove,gestureMove:Be.gestureMove,pointerUp:Be.pointerUp,pointerDown:Be.pointerDown,pointerMove:Be.pointerMove,pointerHover:Be.pointerHover,events:Ue,globalEvents:Ye,delegatedEvents:_e}},te.getTouchAverage=_,te.getTouchBBox=D,te.getTouchDistance=C,te.getTouchAngle=A,te.getElementRect=S,te.matchesSelector=ae,te.closest=$,te.margin=function(t){return h(t)?(ke=t,te):ke},te.supportsTouch=function(){return Ae},te.supportsPointerEvent=function(){return Me},te.stop=function(t){for(var e=Se.length-1;e>0;e--)Se[e].stop(t);return te},te.dynamicDrop=function(t){return c(t)?(Te=t,te):Te},te.pointerMoveTolerance=function(t){return h(t)?(ze=t,this):ze},te.maxInteractions=function(t){return h(t)?(Oe=t,this):Oe},te.createSnapGrid=function(t){return function(e,i){var n=0,r=0;o(t.offset)&&(n=t.offset.x,r=t.offset.y);var s=Math.round((e-n)/t.x),a=Math.round((i-r)/t.y),h=s*t.x+n,c=a*t.y+r;return{x:h,y:c,range:t.range}}},re(pe),Ne in Element.prototype&&a(Element.prototype[Ne])||(ue=function(t,e,i){i=i||t.parentNode.querySelectorAll(e);for(var n=0,r=i.length;r>n;n++)if(i[n]===t)return!0;return!1}),function(){for(var e=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)qe=t[i[n]+"RequestAnimationFrame"],He=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];qe||(qe=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),r=setTimeout(function(){t(i+n)},n);return e=i+n,r}),He||(He=function(t){clearTimeout(t)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=te),exports.interact=te):"function"==typeof define&&define.amd?define("interact",function(){return te}):t.interact=te}(window),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,r){t.Backbone=e(t,r,i,n)});else if("undefined"!=typeof exports){var i=require("underscore");e(t,exports,i)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,i,n){{var r=t.Backbone,s=[],o=(s.push,s.slice);s.splice}e.VERSION="1.1.2",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,i){if(!c(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,n){if(!c(this,"once",t,[e,n])||!e)return this;var r=this,s=i.once(function(){r.off(t,s),e.apply(this,arguments)});return s._callback=e,this.on(t,s,n)},off:function(t,e,n){var r,s,o,a,h,u,l,p;if(!this._events||!c(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(a=t?[t]:i.keys(this._events),h=0,u=a.length;u>h;h++)if(t=a[h],o=this._events[t]){if(this._events[t]=r=[],e||n)for(l=0,p=o.length;p>l;l++)s=o[l],(e&&e!==s.callback&&e!==s.callback._callback||n&&n!==s.context)&&r.push(s);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!c(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&u(i,e),n&&u(n,arguments),this},stopListening:function(t,e,n){var r=this._listeningTo;if(!r)return this;var s=!e&&!n;n||"object"!=typeof e||(n=this),t&&((r={})[t._listenId]=t);for(var o in r)t=r[o],t.off(e,n,this),(s||i.isEmpty(t._events))&&delete this._listeningTo[o];return this}},h=/\s+/,c=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var r in i)t[e].apply(t,[r,i[r]].concat(n));return!1}if(h.test(i)){for(var s=i.split(h),o=0,a=s.length;a>o;o++)t[e].apply(t,[s[o]].concat(n));return!1}return!0},u=function(t,e){var i,n=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,o);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,o,a);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}},l={listenTo:"on",listenToOnce:"once"};i.each(l,function(t,e){a[e]=function(e,n,r){var s=this._listeningTo||(this._listeningTo={}),o=e._listenId||(e._listenId=i.uniqueId("l"));return s[o]=e,r||"object"!=typeof n||(r=this),e[t](n,r,this),this}}),a.bind=a.on,a.unbind=a.off,i.extend(e,a);var p=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,s,o,a,h,c,u,l;if(null==t)return this;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;o=n.unset,h=n.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=i.clone(this.attributes),this.changed={}),l=this.attributes,u=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(r in s)e=s[r],i.isEqual(l[r],e)||a.push(r),i.isEqual(u[r],e)?delete this.changed[r]:this.changed[r]=e,o?delete l[r]:l[r]=e;if(!h){a.length&&(this._pending=n);for(var p=0,d=a.length;d>p;p++)this.trigger("change:"+a[p],this,l[a[p]],n)}if(c)return this;if(!h)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):!1;var e,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var s in t)i.isEqual(r[s],e=t[s])||((n||(n={}))[s]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return e.set(e.parse(i,t),t)?(n&&n(e,i,t),void e.trigger("sync",e,i,t)):!1},X(this,t),this.sync("read",this,t)},save:function(t,e,n){var r,s,o,a=this.attributes;if(null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,n=i.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=i.extend({},a,r)),void 0===n.parse&&(n.parse=!0);var h=this,c=n.success;return n.success=function(t){h.attributes=a;var e=h.parse(t,n);return n.wait&&(e=i.extend(r||{},e)),i.isObject(e)&&!h.set(e,n)?!1:(c&&c(h,t,n),void h.trigger("sync",h,t,n))},X(this,n),s=this.isNew()?"create":n.patch?"patch":"update","patch"===s&&(n.attrs=r),o=this.sync(s,this,n),r&&n.wait&&(this.attributes=a),o},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&r(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;X(this,t);var s=this.sync("delete",this,t);return t.wait||r(),s},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||R();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];i.each(d,function(t){p.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),i[t].apply(i,e)}});var f=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};i.extend(f.prototype,a,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,g))},remove:function(t,e){var n=!i.isArray(t);t=n?[t]:i.clone(t),e||(e={});var r,s,o,a;for(r=0,s=t.length;s>r;r++)a=t[r]=this.get(t[r]),a&&(delete this._byId[a.id],delete this._byId[a.cid],o=this.indexOf(a),this.models.splice(o,1),this.length--,e.silent||(e.index=o,a.trigger("remove",a,this,e)),this._removeReference(a,e));return n?t[0]:t},set:function(t,e){e=i.defaults({},e,v),e.parse&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?t?[t]:[]:i.clone(t);var r,s,o,a,h,c,u,l=e.at,d=this.model,f=this.comparator&&null==l&&e.sort!==!1,g=i.isString(this.comparator)?this.comparator:null,m=[],y=[],x={},b=e.add,E=e.merge,w=e.remove,S=!f&&b&&w?[]:!1;for(r=0,s=t.length;s>r;r++){if(h=t[r]||{},o=h instanceof p?a=h:h[d.prototype.idAttribute||"id"],c=this.get(o))w&&(x[c.cid]=!0),E&&(h=h===a?a.attributes:h,e.parse&&(h=c.parse(h,e)),c.set(h,e),f&&!u&&c.hasChanged(g)&&(u=!0)),t[r]=c;else if(b){if(a=t[r]=this._prepareModel(h,e),!a)continue;m.push(a),this._addReference(a,e)}a=c||a,!S||!a.isNew()&&x[a.id]||S.push(a),x[a.id]=!0}if(w){for(r=0,s=this.length;s>r;++r)x[(a=this.models[r]).cid]||y.push(a);y.length&&this.remove(y,e)}if(m.length||S&&S.length)if(f&&(u=!0),this.length+=m.length,null!=l)for(r=0,s=m.length;s>r;r++)this.models.splice(l+r,0,m[r]);else{S&&(this.models.length=0);var T=S||m;for(r=0,s=T.length;s>r;r++)this.models.push(T[r])}if(u&&this.sort({silent:!0}),!e.silent){for(r=0,s=m.length;s>r;r++)(a=m[r]).trigger("add",a,this,e);(u||S&&S.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return o.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return i.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},X(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?i.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,r=e.success;return e.success=function(t,i){e.wait&&n.add(t,e),r&&r(t,i,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(m,function(t){f.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),i[t].apply(i,e)}});var y=["groupBy","countBy","sortBy","indexBy"];i.each(y,function(t){f.prototype[t]=function(e,n){var r=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,r,n)}});var x=e.View=function(t){this.cid=i.uniqueId("view"),t||(t={}),i.extend(this,i.pick(t,E)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];i.extend(x.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=i.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[t[e]]),n){var r=e.match(b),s=r[1],o=r[2];n=i.bind(n,this),s+=".delegateEvents"+this.cid,""===o?this.$el.on(s,n):this.$el.on(s,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className"));var n=e.$("<"+i.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,r){var s=S[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=i.result(n,"url")||R()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",s),a?a.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"===o.type&&w&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var h=r.xhr=e.ajax(i.extend(o,r));return n.trigger("request",n,h,r),h};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),S={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var T=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},_=/\((.*?)\)/g,D=/(\(\?)?:\w+/g,C=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(T.prototype,a,{initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var s=this;return e.history.route(t,function(i){var o=s._extractParameters(t,i);s.execute(r,o),s.trigger.apply(s,["route:"+n].concat(o)),s.trigger("route",n,o),e.history.trigger("route",s,n,o)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(A,"\\$&").replace(_,"(?:$1)?").replace(D,function(t,e){return e?t:"([^/?]+)"}).replace(C,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var M=e.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},k=/^[#\/]|\s+$/g,z=/^\/+|\/+$/g,P=/msie [\w.]+/,O=/\/$/,$=/#.*$/;M.started=!1,i.extend(M.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(O,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(k,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,s=P.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(z,"/"),s&&this._wantsHashChange){var o=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(k,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1
},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),i.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!M.started)return!1;e&&e!==!0||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace($,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new M;var I=function(t,e){var n,r=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e);var s=function(){this.constructor=n};return s.prototype=r.prototype,n.prototype=new s,t&&i.extend(n.prototype,t),n.__super__=r.prototype,n};p.extend=f.extend=T.extend=x.extend=M.extend=I;var R=function(){throw new Error('A "url" property or function must be specified')},X=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}};return e}),function(t,e,i){"use strict";function n(e,i){return this.name=r,this.el=e,this.$el=t(e),this.options=t.extend({},s,i),this.$document=t(this.$el[0].ownerDocument),this.$body=this.$document.find("body"),this.moveTrigger="MSPointerMove touchmove mousemove",this.startTrigger="MSPointerDown touchstart mousedown",this.stopTrigger="MSPointerUp touchend mouseup",this.startTriggerArray=this.startTrigger.split(" "),this.moveTriggerArray=this.moveTrigger.split(" "),this.stopTriggerArray=this.stopTrigger.split(" "),this.stopEvents=[this.stopTrigger,this.options.stopEvents].join(" "),this.$container="window"===this.options.constrainTo?this.$document:this.options.constrainTo&&"parent"!==this.options.constrainTo?t(this.options.constrainTo):this.$el.parent(),this.isPointerEventCompatible()&&this.applyMSDefaults(),this.CSSEaseHash=this.getCSSEaseHash(),this.scale=1,this.started=!1,this.disabled=!1,this.activeDropRegions=[],this.resetVelocityQueue(),this.init(),this}var r="pep",s={initiate:function(){},start:function(){},drag:function(){},stop:function(){},easing:null,rest:function(){},moveTo:!1,callIfNotStarted:["stop","rest"],startThreshold:[0,0],grid:[1,1],debug:!1,activeClass:"pep-active",multiplier:1,velocityMultiplier:2.5,shouldPreventDefault:!0,allowDragEventPropagation:!0,stopEvents:"",hardwareAccelerate:!0,useCSSTranslation:!0,disableSelect:!0,cssEaseString:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",cssEaseDuration:1e3,shouldEase:!0,droppable:!1,droppableActiveClass:"pep-dpa",overlapFunction:!1,constrainTo:!1,removeMargins:!0,place:!0,deferPlacement:!1,axis:null,forceNonCSS3Movement:!1,elementsWithInteraction:"input",revert:!1,revertAfter:"stop",revertIf:function(){return!0},ignoreRightClick:!0,startPos:{left:null,top:null}};n.prototype.init=function(){this.options.debug&&this.buildDebugDiv(),this.options.disableSelect&&this.disableSelect(),this.options.place&&!this.options.deferPlacement&&(this.positionParent(),this.placeObject()),this.ev={},this.pos={},this.subscribe()},n.prototype.subscribe=function(){var t=this;this.onStartEvent=function(e){t.handleStart(e)},this.$el.on(this.startTrigger,this.onStartEvent),this.onStartEventOnElementsWithInteraction=function(t){t.stopPropagation()},this.$el.on(this.startTrigger,this.options.elementsWithInteraction,this.onStartEventOnElementsWithInteraction),this.onStopEvents=function(e){t.handleStop(e)},this.$document.on(this.stopEvents,this.onStopEvents),this.onMoveEvents=function(e){t.moveEvent=e},this.$document.on(this.moveTrigger,this.onMoveEvents)},n.prototype.unsubscribe=function(){this.$el.off(this.startTrigger,this.onStartEvent),this.$el.off(this.startTrigger,this.options.elementsWithInteraction,this.onStartEventOnElementsWithInteraction),this.$document.off(this.stopEvents,this.onStopEvents),this.$document.off(this.moveTrigger,this.onMoveEvents)},n.prototype.handleStart=function(t){var e=this;if(this.isValidMoveEvent(t)&&!this.disabled&&(!this.options.ignoreRightClick||3!==t.which)){this.isPointerEventCompatible()&&t.preventManipulation&&t.preventManipulation(),t=this.normalizeEvent(t),this.options.place&&this.options.deferPlacement&&(this.positionParent(),this.placeObject()),this.log({type:"event",event:t.type}),this.options.hardwareAccelerate&&!this.hardwareAccelerated&&(this.hardwareAccelerate(),this.hardwareAccelerated=!0);var i=this.options.initiate.call(this,t,this);if(i===!1)return;clearTimeout(this.restTimeout),this.$el.addClass(this.options.activeClass),this.removeCSSEasing(),this.startX=this.ev.x=t.pep.x,this.startY=this.ev.y=t.pep.y,this.initialPosition=this.initialPosition||this.$el.position(),this.startEvent=this.moveEvent=t,this.active=!0,this.options.shouldPreventDefault&&t.preventDefault(),this.options.allowDragEventPropagation||t.stopPropagation(),function n(){e.active&&(e.handleMove(),e.requestAnimationFrame(n))}(),function r(){e.options.easing&&(e.easing&&e.options.easing.call(e,null,e),e.requestAnimationFrame(r))}()}},n.prototype.handleMove=function(){if("undefined"!=typeof this.moveEvent){var i=this.normalizeEvent(this.moveEvent),n=e.parseInt(i.pep.x/this.options.grid[0])*this.options.grid[0],r=e.parseInt(i.pep.y/this.options.grid[1])*this.options.grid[1];this.addToLIFO({time:i.timeStamp,x:n,y:r});var s,o;if(t.inArray(i.type,this.startTriggerArray)>-1?(s=0,o=0):(s=n-this.ev.x,o=r-this.ev.y),this.dx=s,this.dy=o,this.ev.x=n,this.ev.y=r,0===s&&0===o)return void this.log({type:"event",event:"** stopped **"});var a=Math.abs(this.startX-n),h=Math.abs(this.startY-r);!this.started&&(a>this.options.startThreshold[0]||h>this.options.startThreshold[1])&&(this.started=!0,this.$el.addClass("pep-start"),this.options.start.call(this,this.startEvent,this)),this.options.droppable&&this.calculateActiveDropRegions();var c=this.options.drag.call(this,i,this);if(c===!1)return void this.resetVelocityQueue();this.log({type:"event",event:i.type}),this.log({type:"event-coords",x:this.ev.x,y:this.ev.y}),this.log({type:"velocity"}),this.doMoveTo(s,o)}},n.prototype.doMoveTo=function(t,e){var i,n,r=this.handleConstraint(t,e);"function"==typeof this.options.moveTo?(i=t>=0?"+="+Math.abs(t/this.scale)*this.options.multiplier:"-="+Math.abs(t/this.scale)*this.options.multiplier,n=e>=0?"+="+Math.abs(e/this.scale)*this.options.multiplier:"-="+Math.abs(e/this.scale)*this.options.multiplier,this.options.constrainTo&&(i=r.x!==!1?r.x:i,n=r.y!==!1?r.y:n),"x"===this.options.axis&&(n=r.y),"y"===this.options.axis&&(i=r.x),this.options.moveTo.call(this,i,n)):this.shouldUseCSSTranslation()?(t=t/this.scale*this.options.multiplier,e=e/this.scale*this.options.multiplier,this.options.constrainTo&&(t=r.x===!1?t:0,e=r.y===!1?e:0),"x"===this.options.axis&&(e=0),"y"===this.options.axis&&(t=0),this.moveToUsingTransforms(t,e)):(i=t>=0?"+="+Math.abs(t/this.scale)*this.options.multiplier:"-="+Math.abs(t/this.scale)*this.options.multiplier,n=e>=0?"+="+Math.abs(e/this.scale)*this.options.multiplier:"-="+Math.abs(e/this.scale)*this.options.multiplier,this.options.constrainTo&&(i=r.x!==!1?r.x:i,n=r.y!==!1?r.y:n),"x"===this.options.axis&&(n=r.y),"y"===this.options.axis&&(i=r.x),this.moveTo(i,n))},n.prototype.handleStop=function(e){this.active&&(this.log({type:"event",event:e.type}),this.active=!1,this.easing=!0,this.$el.removeClass("pep-start").addClass("pep-ease"),this.options.droppable&&this.calculateActiveDropRegions(),(this.started||!this.started&&t.inArray("stop",this.options.callIfNotStarted)>-1)&&this.options.stop.call(this,e,this),this.options.shouldEase?this.ease(e,this.started):this.removeActiveClass(),this.options.revert&&("stop"===this.options.revertAfter||!this.options.shouldEase)&&this.options.revertIf&&this.options.revertIf.call(this)&&this.revert(),this.started=!1,this.resetVelocityQueue())},n.prototype.ease=function(e,i){var n=(this.$el.position(),this.velocity()),r=(this.dt,n.x/this.scale*this.options.multiplier),s=n.y/this.scale*this.options.multiplier,o=this.handleConstraint(r,s,!0);this.cssAnimationsSupported()&&this.$el.css(this.getCSSEaseHash());var a=n.x>0?"+="+r:"-="+Math.abs(r),h=n.y>0?"+="+s:"-="+Math.abs(s);this.options.constrainTo&&(a=o.x!==!1?o.x:a,h=o.y!==!1?o.y:h),"x"===this.options.axis&&(h="+=0"),"y"===this.options.axis&&(a="+=0");var c=!this.cssAnimationsSupported()||this.options.forceNonCSS3Movement;"function"==typeof this.options.moveTo?this.options.moveTo.call(this,a,h):this.moveTo(a,h,c);var u=this;this.restTimeout=setTimeout(function(){u.options.droppable&&u.calculateActiveDropRegions(),u.easing=!1,(i||!i&&t.inArray("rest",u.options.callIfNotStarted)>-1)&&u.options.rest.call(u,e,u),u.options.revert&&"ease"===u.options.revertAfter&&u.options.shouldEase&&u.options.revertIf&&u.options.revertIf.call(u)&&u.revert(),u.removeActiveClass()},this.options.cssEaseDuration)},n.prototype.normalizeEvent=function(t){return t.pep={},this.isPointerEventCompatible()||!this.isTouch(t)?(t.pageX?(t.pep.x=t.pageX,t.pep.y=t.pageY):(t.pep.x=t.originalEvent.pageX,t.pep.y=t.originalEvent.pageY),t.pep.type=t.type):(t.pep.x=t.originalEvent.touches[0].pageX,t.pep.y=t.originalEvent.touches[0].pageY,t.pep.type=t.type),t},n.prototype.resetVelocityQueue=function(){this.velocityQueue=new Array(5)},n.prototype.moveTo=function(t,e,i){this.log({type:"delta",x:t,y:e}),i?this.$el.animate({top:e,left:t},0,"easeOutQuad",{queue:!1}):this.$el.stop(!0,!1).css({top:e,left:t})},n.prototype.moveToUsingTransforms=function(t,e){var i=this.matrixToArray(this.matrixString());this.cssX||(this.cssX=this.xTranslation(i)),this.cssY||(this.cssY=this.yTranslation(i)),this.cssX=this.cssX+t,this.cssY=this.cssY+e,this.log({type:"delta",x:t,y:e}),i[4]=this.cssX,i[5]=this.cssY,this.translation=this.arrayToMatrix(i),this.transform(this.translation)},n.prototype.transform=function(t){this.$el.css({"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t,transform:t})},n.prototype.xTranslation=function(t){return t=t||this.matrixToArray(this.matrixString()),parseInt(t[4],10)},n.prototype.yTranslation=function(t){return t=t||this.matrixToArray(this.matrixString()),parseInt(t[5],10)},n.prototype.matrixString=function(){var t=function(t){return!(!t||"none"===t||t.indexOf("matrix")<0)},e="matrix(1, 0, 0, 1, 0, 0)";return t(this.$el.css("-webkit-transform"))&&(e=this.$el.css("-webkit-transform")),t(this.$el.css("-moz-transform"))&&(e=this.$el.css("-moz-transform")),t(this.$el.css("-ms-transform"))&&(e=this.$el.css("-ms-transform")),t(this.$el.css("-o-transform"))&&(e=this.$el.css("-o-transform")),t(this.$el.css("transform"))&&(e=this.$el.css("transform")),e},n.prototype.matrixToArray=function(t){return t.split("(")[1].split(")")[0].split(",")},n.prototype.arrayToMatrix=function(t){return"matrix("+t.join(",")+")"},n.prototype.addToLIFO=function(t){var e=this.velocityQueue;e=e.slice(1,e.length),e.push(t),this.velocityQueue=e},n.prototype.velocity=function(){for(var t=0,e=0,i=0;i<this.velocityQueue.length-1;i++)this.velocityQueue[i]&&(t+=this.velocityQueue[i+1].x-this.velocityQueue[i].x,e+=this.velocityQueue[i+1].y-this.velocityQueue[i].y,this.dt=this.velocityQueue[i+1].time-this.velocityQueue[i].time);return{x:t*this.options.velocityMultiplier,y:e*this.options.velocityMultiplier}},n.prototype.revert=function(){this.shouldUseCSSTranslation()&&this.moveToUsingTransforms(-this.xTranslation(),-this.yTranslation()),this.moveTo(this.initialPosition.left,this.initialPosition.top)},n.prototype.requestAnimationFrame=function(t){return e.requestAnimationFrame&&e.requestAnimationFrame(t)||e.webkitRequestAnimationFrame&&e.webkitRequestAnimationFrame(t)||e.mozRequestAnimationFrame&&e.mozRequestAnimationFrame(t)||e.oRequestAnimationFrame&&e.mozRequestAnimationFrame(t)||e.msRequestAnimationFrame&&e.msRequestAnimationFrame(t)||e.setTimeout(t,1e3/60)},n.prototype.positionParent=function(){this.options.constrainTo&&!this.parentPositioned&&(this.parentPositioned=!0,"parent"===this.options.constrainTo?this.$container.css({position:"relative"}):"window"===this.options.constrainTo&&"#document"!==this.$container.get(0).nodeName&&"static"!==this.$container.css("position")&&this.$container.css({position:"static"}))},n.prototype.placeObject=function(){this.objectPlaced||(this.objectPlaced=!0,this.offset="parent"===this.options.constrainTo||this.hasNonBodyRelative()?this.$el.position():this.$el.offset(),parseInt(this.$el.css("left"),10)&&(this.offset.left=this.$el.css("left")),"number"==typeof this.options.startPos.left&&(this.offset.left=this.options.startPos.left),parseInt(this.$el.css("top"),10)&&(this.offset.top=this.$el.css("top")),"number"==typeof this.options.startPos.top&&(this.offset.top=this.options.startPos.top),this.options.removeMargins&&this.$el.css({margin:0}),this.$el.css({position:"absolute",top:this.offset.top,left:this.offset.left}))},n.prototype.hasNonBodyRelative=function(){return this.$el.parents().filter(function(){var e=t(this);return e.is("body")||"relative"===e.css("position")}).length>1},n.prototype.setScale=function(t){this.scale=t},n.prototype.setMultiplier=function(t){this.options.multiplier=t},n.prototype.removeCSSEasing=function(){this.cssAnimationsSupported()&&this.$el.css(this.getCSSEaseHash(!0))},n.prototype.disableSelect=function(){this.$el.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})},n.prototype.removeActiveClass=function(){this.$el.removeClass([this.options.activeClass,"pep-ease"].join(" "))},n.prototype.handleConstraint=function(e,n,r){var s=this.$el.position();this.pos.x=s.left,this.pos.y=s.top;var o,a,h,c,u={x:!1,y:!1};return this.log({type:"pos-coords",x:this.pos.x,y:this.pos.y}),t.isArray(this.options.constrainTo)?(this.options.constrainTo[3]!==i&&this.options.constrainTo[1]!==i&&(a=this.options.constrainTo[1]===!1?1/0:this.options.constrainTo[1],h=this.options.constrainTo[3]===!1?-1/0:this.options.constrainTo[3]),this.options.constrainTo[0]!==!1&&this.options.constrainTo[2]!==!1&&(o=this.options.constrainTo[2]===!1?1/0:this.options.constrainTo[2],c=this.options.constrainTo[0]===!1?-1/0:this.options.constrainTo[0]),this.pos.x+e<h&&(u.x=h),this.pos.y+n<c&&(u.y=c)):"string"==typeof this.options.constrainTo&&(h=0,c=0,a=this.$container.width()-this.$el.outerWidth(),o=this.$container.height()-this.$el.outerHeight(),this.pos.x+e<0&&(u.x=0),this.pos.y+n<0&&(u.y=0)),this.pos.x+e>a&&(u.x=a),this.pos.y+n>o&&(u.y=o),this.shouldUseCSSTranslation()&&r&&(u.x===h&&this.xTranslation()&&(u.x=h-this.xTranslation()),u.x===a&&this.xTranslation()&&(u.x=a-this.xTranslation()),u.y===c&&this.yTranslation()&&(u.y=c-this.yTranslation()),u.y===o&&this.yTranslation()&&(u.y=o-this.yTranslation())),u},n.prototype.getCSSEaseHash=function(t){"undefined"==typeof t&&(t=!1);var e;if(t)e="";else{if(this.CSSEaseHash)return this.CSSEaseHash;e=["all",this.options.cssEaseDuration+"ms",this.options.cssEaseString].join(" ")}return{"-webkit-transition":e,"-moz-transition":e,"-ms-transition":e,"-o-transition":e,transition:e}},n.prototype.calculateActiveDropRegions=function(){var e=this;this.activeDropRegions.length=0,t.each(t(this.options.droppable),function(i,n){var r=t(n);e.isOverlapping(r,e.$el)?(r.addClass(e.options.droppableActiveClass),e.activeDropRegions.push(r)):r.removeClass(e.options.droppableActiveClass)})},n.prototype.isOverlapping=function(t,e){if(this.options.overlapFunction)return this.options.overlapFunction(t,e);var i=t[0].getBoundingClientRect(),n=e[0].getBoundingClientRect();return!(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom)},n.prototype.isTouch=function(t){return t.type.search("touch")>-1},n.prototype.isPointerEventCompatible=function(){return"MSPointerEvent"in e},n.prototype.applyMSDefaults=function(){this.$el.css({"-ms-touch-action":"none","touch-action":"none","-ms-scroll-chaining":"none","-ms-scroll-limit":"0 0 0 0"})},n.prototype.isValidMoveEvent=function(t){return!this.isTouch(t)||this.isTouch(t)&&t.originalEvent&&t.originalEvent.touches&&1===t.originalEvent.touches.length},n.prototype.shouldUseCSSTranslation=function(){if(this.options.forceNonCSS3Movement)return!1;if("undefined"!=typeof this.useCSSTranslation)return this.useCSSTranslation;var t=!1;return t=!this.options.useCSSTranslation||"undefined"!=typeof Modernizr&&!Modernizr.csstransforms?!1:!0,this.useCSSTranslation=t,t},n.prototype.cssAnimationsSupported=function(){if("undefined"!=typeof this.cssAnimationsSupport)return this.cssAnimationsSupport;if("undefined"!=typeof Modernizr&&Modernizr.cssanimations)return this.cssAnimationsSupport=!0,!0;var t=!1,e=document.createElement("div"),n="animation",r="",s="Webkit Moz O ms Khtml".split(" "),o="";if(e.style.animationName&&(t=!0),t===!1)for(var a=0;a<s.length;a++)if(e.style[s[a]+"AnimationName"]!==i){o=s[a],n=o+"Animation",r="-"+o.toLowerCase()+"-",t=!0;break}return this.cssAnimationsSupport=t,t},n.prototype.hardwareAccelerate=function(){this.$el.css({"-webkit-perspective":1e3,perspective:1e3,"-webkit-backface-visibility":"hidden","backface-visibility":"hidden"})},n.prototype.getMovementValues=function(){return{ev:this.ev,pos:this.pos,velocity:this.velocity()}},n.prototype.buildDebugDiv=function(){var e;0===t("#pep-debug").length&&(e=t("<div></div>"),e.attr("id","pep-debug").append("<div style='font-weight:bold; background: red; color: white;'>DEBUG MODE</div>").append("<div id='pep-debug-event'>no event</div>").append("<div id='pep-debug-ev-coords'>event coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-pos-coords'>position coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-velocity'>velocity: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-delta'>&Delta; movement: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").css({position:"fixed",bottom:5,right:5,zIndex:99999,textAlign:"right",fontFamily:"Arial, sans",fontSize:10,border:"1px solid #DDD",padding:"3px",background:"white",color:"#333"}));var i=this;setTimeout(function(){i.debugElements={$event:t("#pep-debug-event"),$velocityX:t("#pep-debug-velocity .pep-x"),$velocityY:t("#pep-debug-velocity .pep-y"),$dX:t("#pep-debug-delta .pep-x"),$dY:t("#pep-debug-delta .pep-y"),$evCoordsX:t("#pep-debug-ev-coords .pep-x"),$evCoordsY:t("#pep-debug-ev-coords .pep-y"),$posCoordsX:t("#pep-debug-pos-coords .pep-x"),$posCoordsY:t("#pep-debug-pos-coords .pep-y")}},0),t("body").append(e)},n.prototype.log=function(t){if(this.options.debug)switch(t.type){case"event":this.debugElements.$event.text(t.event);break;case"pos-coords":this.debugElements.$posCoordsX.text(t.x),this.debugElements.$posCoordsY.text(t.y);break;case"event-coords":this.debugElements.$evCoordsX.text(t.x),this.debugElements.$evCoordsY.text(t.y);break;case"delta":this.debugElements.$dX.text(t.x),this.debugElements.$dY.text(t.y);break;case"velocity":var e=this.velocity();this.debugElements.$velocityX.text(Math.round(e.x)),this.debugElements.$velocityY.text(Math.round(e.y))}},n.prototype.toggle=function(t){this.disabled="undefined"==typeof t?!this.disabled:!t},t.extend(t.easing,{easeOutQuad:function(t,e,i,n,r){return-n*(e/=r)*(e-2)+i},easeOutCirc:function(t,e,i,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+i},easeOutExpo:function(t,e,i,n,r){return e===r?i+n:n*(-Math.pow(2,-10*e/r)+1)+i}}),t.fn[r]=function(e){return this.each(function(){if(!t.data(this,"plugin_"+r)){var i=new n(this,e);t.data(this,"plugin_"+r,i),t.pep.peps.push(i)}})},t.pep={},t.pep.peps=[],t.pep.toggleAll=function(e){t.each(this.peps,function(t,i){i.toggle(e)})},t.pep.unbind=function(t){var e=t.data("plugin_"+r);"undefined"!=typeof e&&(e.toggle(!1),e.unsubscribe(),t.removeData("plugin_"+r))}}(jQuery,window),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["underscore","backbone"],function(){return e.apply(t,arguments)}):"object"==typeof module&&module.exports?module.exports=e.call(t,require("underscore"),require("backbone")):e.call(t,t._,t.Backbone)}("object"==typeof global?global:this,function(t,e){"use strict";var i=function(e,i){return e&&e[i]?t.isFunction(e[i])?e[i]():e[i]:null},n=/^(\S+)\s*(.*)$/;return t.extend(e.View.prototype,{_touching:!1,touchPrevents:!0,touchThreshold:10,isTouch:this.document&&"ontouchstart"in this.document&&!("callPhantom"in this),delegateEvents:function(e){if(e||(e=i(this,"events"))){this.undelegateEvents();var r=".delegateEvents"+this.cid;t(e).each(function(i,s){if(t.isFunction(i)||(i=this[e[s]]),!i)throw new Error('Method "'+e[s]+'" does not exist');var o=s.match(n),a=o[1],h=o[2],c=t.bind(this._touchHandler,this);i=t.bind(i,this),this._useTouchHandlers(a,h)?(this.$el.on("touchstart"+r,h,c),this.$el.on("touchend"+r,h,{method:i},c)):(a+=r,""===h?this.$el.bind(a,i):this.$el.on(a,h,i))},this)}},_useTouchHandlers:function(t){return this.isTouch&&"click"===t},_touchHandler:function(t){var e=t.originalEvent||t;if("changedTouches"in e){var i=e.changedTouches[0],n=i.clientX,r=i.clientY;switch(t.type){case"touchstart":this._touching=[n,r];break;case"touchend":var s=this._touching[0],o=this._touching[1],a=this.touchThreshold;if(s+a>n&&n>s-a&&o+a>r&&r>o-a){if(this._touching=!1,this.touchPrevents){var h=t.currentTarget.tagName;("BUTTON"===h||"A"===h)&&(t.preventDefault(),t.stopPropagation())}t.data.method(t)}}}}}),e});