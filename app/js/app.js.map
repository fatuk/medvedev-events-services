{"version":3,"sources":["app.js"],"names":["$","App","Collections","Models","Views","Backbone","View","extend","el","initialize","Drop","events","click .js-avatarClose","click .js-addBtn","click .js-removeBtn","mousedown .js-dropItem","mouseup .js-dropItem:not(.pep-start)","mouseout .js-dropItem","addItem","e","$currentTarget","currentTarget","id","data","$selectedItem","dragView","$el","find","css","poacity","visibility","saveSelectedItem","this","closeAvatar","removeItem","$dragItem","remove","removeSelectedItem","opacity","collection","models","length","appView","hide","mousedown","mouseup","click","$target","infoAvatarTemplate","html","infoTemplate","currentItem","findWhere","renderedAvatar","Mustache","render","toJSON","renderedInfo","append","show","removeClass","on","each","dropItem","dropItemView","DropItem","model","get","pep","droppable","drag","addClass","stop","event","object","$item","intersected","activeDropRegions","revert","debug","place","template","tagName","className","rendered","icon","attr","Drag","mousedown .js-dragItem","mouseup .js-dragItem:not(.pep-start)","mouseout .js-dragItem","itemId","dropItems","push","self","$empty","availableItem","dragItem","DragItem","Avatar","AvailableItems","Collection","url","parse","response","posts","fetch","reset","SelectedItems","dragItems"],"mappings":"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","file":"app.js","sourcesContent":["$(function () {\n\tvar App = {};\n\tApp.Collections = {};\n\tApp.Models = {};\n\tApp.Views = {};\n\n\t/*****************\n\t *\n\t *  Views\n\t *\n\t ******************/\n\n\t// Main view\n\tApp.Views.App = Backbone.View.extend({\n\t\tel: '.js-services',\n\t\tinitialize: function () {\n\n\t\t}\n\t});\n\n\t// Drop view\n\tApp.Views.Drop = Backbone.View.extend({\n\t\tel: '.js-drop',\n\t\tevents: {\n\t\t\t'click .js-avatarClose': 'closeAvatar',\n\t\t\t'click .js-addBtn': 'addItem',\n\t\t\t'click .js-removeBtn': 'removeItem',\n\t\t\t'mousedown .js-dropItem': 'mousedown',\n\t\t\t'mouseup .js-dropItem:not(.pep-start)': 'click',\n\t\t\t'mouseout .js-dropItem': 'mouseout'\n\t\t},\n\t\taddItem: function (e) {\n\t\t\tvar $currentTarget = $(e.currentTarget),\n\t\t\t\tid = $currentTarget.data('id'),\n\t\t\t\t$selectedItem = dragView.$el.find('#dragItem-' + id);\n\n\t\t\t// Hide selected drop item\n\t\t\t$selectedItem.css({\n\t\t\t\tpoacity: 0,\n\t\t\t\tvisibility: 'hidden'\n\t\t\t});\n\t\t\t// Save drag selected item\n\t\t\tdragView.saveSelectedItem($selectedItem);\n\t\t\t// Close big avatar\n\t\t\tthis.closeAvatar();\n\t\t},\n\t\tremoveItem: function (e) {\n\t\t\tvar $currentTarget = $(e.currentTarget),\n\t\t\t\tid = $currentTarget.data('id'),\n\t\t\t\t$selectedItem = this.$el.find('#dropItem-' + id),\n\t\t\t\t$dragItem = dragView.$el.find('#dragItem-' + id);\n\n\t\t\t// Remove selected item\n\t\t\t$selectedItem.remove();\n\t\t\t// Close big avatar\n\t\t\tthis.closeAvatar();\n\t\t\t// Remove model from collection\n\t\t\tdragView.removeSelectedItem($dragItem);\n\t\t\t// Show drag item\n\t\t\t$dragItem.css({\n\t\t\t\topacity: 1,\n\t\t\t\tvisibility: 'visible'\n\t\t\t});\n\n\t\t\t// Hide short info if no models\n\t\t\tif (this.collection.models.length === 0) {\n\t\t\t\tappView.$el.find('.js-shortInfo').hide();\n\t\t\t}\n\t\t},\n\t\tmousedown: function (e) {\n\t\t\tvar $target = $(e.currentTarget);\n\t\t},\n\t\tmouseup: function (e) {\n\t\t\tvar $target = $(e.currentTarget);\n\t\t},\n\t\tclick: function (e) {\n\t\t\tvar $target = $(e.currentTarget),\n\t\t\t\tinfoAvatarTemplate = $('#selectedItemAvatarTemplate').html(),\n\t\t\t\tinfoTemplate = $('#infoTemplate').html(),\n\t\t\t\tcurrentItem = this.collection.findWhere({\n\t\t\t\t\tid: $target.data('id')\n\t\t\t\t}),\n\t\t\t\trenderedAvatar = Mustache.render(infoAvatarTemplate, currentItem.toJSON()),\n\t\t\t\trenderedInfo = Mustache.render(infoTemplate, currentItem.toJSON());\n\n\t\t\t$('.js-itemInfo').html(renderedInfo);\n\n\t\t\tthis.$el.find('.js-avatar').remove();\n\n\t\t\tthis.$el.append(renderedAvatar);\n\t\t\tthis.$el.find('.js-addBtn').hide();\n\t\t\tthis.$el.find('.js-removeBtn').show();\n\t\t},\n\t\tcloseAvatar: function () {\n\t\t\t// Change buttons add/remove\n\t\t\t$('.js-dragItem').removeClass('active');\n\t\t\t// Clear big avatar\n\t\t\tthis.$el.find('.js-avatar').remove();\n\t\t\t// Clear info\n\t\t\tappView.$el.find('.js-itemInfo').html('');\n\t\t\tappView.$el.find('.js-selectedItemName').html('&nbsp;');\n\t\t},\n\t\tinitialize: function () {\n\t\t\tthis.collection.on('add remove', function () {\n\t\t\t\tthis.render();\n\t\t\t}, this);\n\t\t},\n\t\trender: function () {\n\t\t\tvar self = this;\n\n\t\t\t// Show short info\n\t\t\tappView.$el.find('.js-shortInfo').show();\n\t\t\t// Clear short info\n\t\t\tappView.$el.find('.js-selected').html('');\n\t\t\t// Clear drop area\n\t\t\tthis.$el.find('.js-selectedItems').html('');\n\t\t\tthis.collection.each(function (dropItem, index) {\n\t\t\t\tvar dropItemView = new App.Views.DropItem({\n\t\t\t\t\tmodel: dropItem\n\t\t\t\t});\n\t\t\t\tthis.$el.find('.js-selectedItems').append(dropItemView.$el.data('serviceName', dropItem.get('name')));\n\n\t\t\t\t// Render short info\n\t\t\t\t$('.js-selected').append('<li>' + dropItem.get('title') + '</li>');\n\t\t\t}, this);\n\n\t\t\t// Drag init\n\t\t\t$('.js-dropItem').pep({\n\t\t\t\tdroppable: '.js-drag',\n\t\t\t\tdrag: function (event, object) {\n\t\t\t\t\tappView.$el.find('.js-selectedItems').addClass('dragging');\n\t\t\t\t},\n\t\t\t\tstop: function (event, object) {\n\t\t\t\t\tvar $item = $(object.el),\n\t\t\t\t\t\tintersected = this.activeDropRegions.length,\n\t\t\t\t\t\tid = $item.data('id');\n\n\t\t\t\t\tif (intersected) {\n\t\t\t\t\t\tdragView.removeSelectedItem($item);\n\t\t\t\t\t\tdragView.$el.find('#dragItem-' + id).css({\n\t\t\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t\t\t\topacity: 1\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove dragging class\n\t\t\t\t\tappView.$el.find('.js-selectedItems').removeClass('dragging');\n\t\t\t\t},\n\t\t\t\trevert: true,\n\t\t\t\tdebug: false,\n\t\t\t\tplace: false\n\t\t\t});\n\t\t}\n\t});\n\t// Drop item view\n\tApp.Views.DropItem = Backbone.View.extend({\n\t\ttemplate: $('#dragItemTemplate').html(),\n\t\ttagName: 'li',\n\t\tclassName: 'services__item js-dropItem',\n\t\tinitialize: function () {\n\t\t\tthis.render();\n\t\t},\n\t\trender: function () {\n\t\t\tvar rendered = Mustache.render(this.template, this.model.toJSON());\n\t\t\tthis.$el.html(rendered);\n\t\t\tthis.$el.addClass('services__item_' + this.model.get('custom_fields').icon);\n\t\t\tthis.$el.addClass('active');\n\t\t\tthis.$el.attr('id', 'dropItem-' + this.model.get('id'));\n\t\t\tthis.$el.data('id', this.model.get('id'));\n\t\t\treturn this;\n\t\t}\n\t});\n\n\t// Available drag view\n\tApp.Views.Drag = Backbone.View.extend({\n\t\tel: '.js-drag',\n\t\tevents: {\n\t\t\t'mousedown .js-dragItem': 'mousedown',\n\t\t\t'mouseup .js-dragItem:not(.pep-start)': 'click',\n\t\t\t'mouseout .js-dragItem': 'mouseout'\n\t\t},\n\t\tinitialize: function () {\n\t\t\tthis.collection.on('reset', function () {\n\t\t\t\tthis.render();\n\t\t\t}, this);\n\t\t},\n\t\tmousedown: function (e) {\n\t\t\tvar $target = $(e.currentTarget);\n\t\t},\n\t\tmouseup: function (e) {\n\t\t\tvar $target = $(e.currentTarget);\n\t\t},\n\t\tclick: function (e) {\n\t\t\tvar $target = $(e.currentTarget),\n\t\t\t\tinfoAvatarTemplate = $('#selectedItemAvatarTemplate').html(),\n\t\t\t\tinfoTemplate = $('#infoTemplate').html(),\n\t\t\t\tcurrentItem = this.collection.findWhere({\n\t\t\t\t\tid: $target.data('id')\n\t\t\t\t}),\n\t\t\t\trenderedAvatar = Mustache.render(infoAvatarTemplate, currentItem.toJSON()),\n\t\t\t\trenderedInfo = Mustache.render(infoTemplate, currentItem.toJSON());\n\n\t\t\t$('.js-itemInfo').html(renderedInfo);\n\n\t\t\t// Change title\n\t\t\tappView.$el.find('.js-selectedItemName').html(currentItem.get('title'));\n\n\t\t\t$('.js-drop').find('.js-avatar').remove();\n\t\t\t$('.js-dragItem').removeClass('active');\n\t\t\t$target.addClass('active');\n\t\t\t$('.js-drop').append(renderedAvatar);\n\t\t\t$('.js-drop').find('.js-removeBtn').hide();\n\t\t\t$('.js-drop').find('.js-addBtn').show();\n\n\t\t},\n\t\tsaveSelectedItem: function ($item) {\n\t\t\tvar itemId = $item.data('id'),\n\t\t\t\tcurrentItem = this.collection.findWhere({\n\t\t\t\t\tid: itemId\n\t\t\t\t});\n\n\t\t\t$item.css({\n\t\t\t\topacity: 0,\n\t\t\t\tvisibility: 'hidden'\n\t\t\t});\n\t\t\tdropItems.push(currentItem);\n\t\t},\n\t\tremoveSelectedItem: function ($item) {\n\t\t\tvar itemId = $item.data('id'),\n\t\t\t\tcurrentItem = this.collection.findWhere({\n\t\t\t\t\tid: itemId\n\t\t\t\t});\n\n\t\t\tdropItems.remove(currentItem);\n\t\t},\n\t\trender: function () {\n\t\t\tvar self = this,\n\t\t\t\t$empty = $('.js-dragEmpty');\n\n\t\t\tthis.$el.html('');\n\t\t\t$empty.html('');\n\t\t\tthis.collection.each(function (availableItem, index) {\n\t\t\t\tvar dragItem = new App.Views.DragItem({\n\t\t\t\t\tmodel: availableItem\n\t\t\t\t});\n\t\t\t\tthis.$el.append(dragItem.$el.data('serviceName', availableItem.get('name')));\n\t\t\t\t$empty.append('<li class=\"services__empty-item\"></li>');\n\t\t\t}, this);\n\n\t\t\t// Drag init\n\t\t\t$('.js-dragItem').pep({\n\t\t\t\tdroppable: '.js-drop',\n\t\t\t\tstop: function (event, object) {\n\t\t\t\t\tvar $item = $(object.el),\n\t\t\t\t\t\tintersected = this.activeDropRegions.length;\n\n\t\t\t\t\tif (intersected) {\n\t\t\t\t\t\tself.saveSelectedItem($item);\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\trevert: true,\n\t\t\t\tdebug: false,\n\t\t\t\tplace: false\n\t\t\t});\n\t\t}\n\t});\n\t// Available drag item view\n\tApp.Views.DragItem = Backbone.View.extend({\n\t\ttemplate: $('#dragItemTemplate').html(),\n\t\ttagName: 'li',\n\t\tclassName: 'services__item js-dragItem',\n\t\tinitialize: function () {\n\t\t\tthis.render();\n\t\t},\n\t\trender: function () {\n\t\t\tvar rendered = Mustache.render(this.template, this.model.toJSON());\n\t\t\tthis.$el.html(rendered);\n\t\t\tthis.$el.addClass('services__item_' + this.model.get('custom_fields').icon);\n\t\t\tthis.$el.attr('id', 'dragItem-' + this.model.get('id'));\n\t\t\tthis.$el.data('id', this.model.get('id'));\n\t\t\treturn this;\n\t\t}\n\t});\n\t// Avatar view\n\tApp.Views.Avatar = Backbone.View.extend({\n\t\tel: '.js-avatar',\n\t\tevents: {\n\t\t\t'click .js-addBtn': 'ч'\n\t\t}\n\t});\n\n\n\t/*****************\n\t *\n\t *  Collections\n\t *\n\t ******************/\n\n\t// Available items\n\tApp.Collections.AvailableItems = Backbone.Collection.extend({\n\t\turl: $('#dragItemTemplate').data('url'),\n\t\tparse: function (response) {\n\t\t\treturn response.posts;\n\t\t},\n\t\tinitialize: function () {\n\t\t\tthis.fetch({\n\t\t\t\treset: true\n\t\t\t});\n\t\t}\n\t});\n\t// Selected items\n\tApp.Collections.SelectedItems = Backbone.Collection.extend({});\n\n\n\t/*****************\n\t *\n\t *  Initialize\n\t *\n\t ******************/\n\tvar dragItems = new App.Collections.AvailableItems(),\n\t\tdropItems = new App.Collections.SelectedItems();\n\n\tvar appView = new App.Views.App(),\n\t\tdragView = new App.Views.Drag({\n\t\t\tcollection: dragItems\n\t\t}),\n\t\tdropView = new App.Views.Drop({\n\t\t\tcollection: dropItems\n\t\t});\n});\n"],"sourceRoot":"/source/"}